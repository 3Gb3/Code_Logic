{% extends "base_aula.html" %}

{% block title %}Aula 10 - Projeto Final Comparativa | CodeLogic{% endblock %}
{% block lesson_title %}Aula 10 - Projeto Final: Sistema de Avalia√ß√£o{% endblock %}

{% block lesson_content %}
<div class="content-section">
    <h2>üéØ Objetivos do Projeto</h2>
    <ul>
        <li>Integrar todos os conceitos de estruturas comparativas</li>
        <li>Criar um sistema completo de avalia√ß√£o</li>
        <li>Aplicar m√∫ltiplas condi√ß√µes e l√≥gica complexa</li>
        <li>Desenvolver um projeto real e √∫til</li>
    </ul>
</div>

<div class="content-section">
    <h2>üèóÔ∏è Vis√£o Geral do Projeto</h2>
    <p>
        Vamos criar um <strong>Sistema de Avalia√ß√£o Escolar</strong> que calcula m√©dias,
        determina aprova√ß√£o/reprova√ß√£o, classifica desempenho e gera relat√≥rios.
    </p>
    
    <div class="highlight-box">
        <h3>üìã Funcionalidades do Sistema:</h3>
        <ul>
            <li>üìä Calcular m√©dias ponderadas</li>
            <li>‚úÖ Determinar status de aprova√ß√£o</li>
            <li>üèÜ Classificar n√≠veis de desempenho</li>
            <li>üìà Gerar estat√≠sticas da turma</li>
            <li>üéØ Sugerir melhorias individuais</li>
        </ul>
    </div>
</div>

<div class="content-section">
    <h2>üìè Crit√©rios de Avalia√ß√£o</h2>
    
    <div class="code-example">
        <h3>Sistema de Notas e Pesos:</h3>
        <pre><code># Crit√©rios de avalia√ß√£o
CRITERIOS = {
    'provas': {'peso': 0.4, 'min_aprovacao': 6.0},
    'trabalhos': {'peso': 0.3, 'min_aprovacao': 7.0},
    'participacao': {'peso': 0.2, 'min_aprovacao': 8.0},
    'frequencia': {'peso': 0.1, 'min_frequencia': 75.0}
}

# Classifica√ß√µes de desempenho
CLASSIFICACOES = {
    'excelente': {'min': 9.0, 'cor': 'üü¢'},
    'bom': {'min': 7.5, 'cor': 'üü°'},
    'regular': {'min': 6.0, 'cor': 'üü†'},
    'insuficiente': {'min': 0.0, 'cor': 'üî¥'}
}</code></pre>
    </div>
</div>

<div class="content-section">
    <h2>üßÆ Fun√ß√£o de C√°lculo de M√©dia</h2>
    
    <div class="code-example">
        <h3>M√©dia Ponderada Complexa:</h3>
        <pre><code>def calcular_media_aluno(notas_aluno):
    """
    Calcula m√©dia ponderada considerando diferentes crit√©rios
    """
    provas = notas_aluno.get('provas', [])
    trabalhos = notas_aluno.get('trabalhos', [])
    participacao = notas_aluno.get('participacao', 0)
    frequencia = notas_aluno.get('frequencia', 0)
    
    # Calcular m√©dias por categoria
    media_provas = sum(provas) / len(provas) if provas else 0
    media_trabalhos = sum(trabalhos) / len(trabalhos) if trabalhos else 0
    
    # Aplicar pesos
    media_final = (
        media_provas * CRITERIOS['provas']['peso'] +
        media_trabalhos * CRITERIOS['trabalhos']['peso'] +
        participacao * CRITERIOS['participacao']['peso'] +
        (frequencia / 100) * 10 * CRITERIOS['frequencia']['peso']
    )
    
    return round(media_final, 2)</code></pre>
    </div>
</div>

<div class="content-section">
    <h2>‚úÖ Sistema de Aprova√ß√£o</h2>
    
    <div class="code-example">
        <h3>L√≥gica Complexa de Aprova√ß√£o:</h3>
        <pre><code>def avaliar_aprovacao(aluno_dados):
    """
    Determina status de aprova√ß√£o com m√∫ltiplas condi√ß√µes
    """
    media = calcular_media_aluno(aluno_dados)
    frequencia = aluno_dados.get('frequencia', 0)
    
    # Condi√ß√µes de aprova√ß√£o
    media_suficiente = media >= 6.0
    frequencia_suficiente = frequencia >= 75.0
    
    # Verifica√ß√µes espec√≠ficas por categoria
    provas_ok = True
    if aluno_dados.get('provas'):
        media_provas = sum(aluno_dados['provas']) / len(aluno_dados['provas'])
        provas_ok = media_provas >= CRITERIOS['provas']['min_aprovacao']
    
    trabalhos_ok = True
    if aluno_dados.get('trabalhos'):
        media_trabalhos = sum(aluno_dados['trabalhos']) / len(aluno_dados['trabalhos'])
        trabalhos_ok = media_trabalhos >= CRITERIOS['trabalhos']['min_aprovacao']
    
    participacao_ok = aluno_dados.get('participacao', 0) >= CRITERIOS['participacao']['min_aprovacao']
    
    # L√≥gica de decis√£o
    if media_suficiente and frequencia_suficiente and provas_ok:
        if trabalhos_ok and participacao_ok:
            return "APROVADO", "‚úÖ"
        elif media >= 7.0:
            return "APROVADO_CONDICIONAL", "‚ö†Ô∏è"
        else:
            return "RECUPERACAO", "üìö"
    elif media >= 5.0 and frequencia_suficiente:
        return "RECUPERACAO", "üìö"
    else:
        return "REPROVADO", "‚ùå"</code></pre>
    </div>
</div>

<div class="content-section">
    <h2>üèÜ Sistema de Classifica√ß√£o</h2>
    
    <div class="code-example">
        <h3>Classifica√ß√£o de Desempenho:</h3>
        <pre><code>def classificar_desempenho(media):
    """
    Classifica o desempenho do aluno
    """
    if media >= CLASSIFICACOES['excelente']['min']:
        return 'EXCELENTE', CLASSIFICACOES['excelente']['cor']
    elif media >= CLASSIFICACOES['bom']['min']:
        return 'BOM', CLASSIFICACOES['bom']['cor']
    elif media >= CLASSIFICACOES['regular']['min']:
        return 'REGULAR', CLASSIFICACOES['regular']['cor']
    else:
        return 'INSUFICIENTE', CLASSIFICACOES['insuficiente']['cor']

def gerar_sugestoes(aluno_dados, media):
    """
    Gera sugest√µes personalizadas baseadas no desempenho
    """
    sugestoes = []
    
    # An√°lise de provas
    if aluno_dados.get('provas'):
        media_provas = sum(aluno_dados['provas']) / len(aluno_dados['provas'])
        if media_provas < 7.0:
            sugestoes.append("üìö Foque mais nos estudos para provas")
        elif media_provas < 6.0:
            sugestoes.append("üÜò Procure ajuda para melhorar nas provas")
    
    # An√°lise de trabalhos
    if aluno_dados.get('trabalhos'):
        media_trabalhos = sum(aluno_dados['trabalhos']) / len(aluno_dados['trabalhos'])
        if media_trabalhos < 8.0:
            sugestoes.append("üíº Dedique mais tempo aos trabalhos")
    
    # An√°lise de participa√ß√£o
    participacao = aluno_dados.get('participacao', 0)
    if participacao < 8.0:
        sugestoes.append("üó£Ô∏è Participe mais ativamente das aulas")
    
    # An√°lise de frequ√™ncia
    frequencia = aluno_dados.get('frequencia', 0)
    if frequencia < 85:
        sugestoes.append("üìÖ Melhore sua frequ√™ncia √†s aulas")
    
    # Sugest√µes gerais baseadas na m√©dia
    if media < 6.0:
        sugestoes.append("üéØ Estabele√ßa um plano de estudos estruturado")
    elif media < 8.0:
        sugestoes.append("‚¨ÜÔ∏è Voc√™ est√° no caminho certo, continue evoluindo!")
    else:
        sugestoes.append("üåü Excelente trabalho! Mantenha o n√≠vel!")
    
    return sugestoes</code></pre>
    </div>
</div>

<div class="content-section">
    <h2>üìä Relat√≥rio Individual</h2>
    
    <div class="code-example">
        <h3>Gera√ß√£o de Relat√≥rio Completo:</h3>
        <pre><code>def gerar_relatorio_aluno(nome, aluno_dados):
    """
    Gera relat√≥rio completo do aluno
    """
    media = calcular_media_aluno(aluno_dados)
    status, emoji_status = avaliar_aprovacao(aluno_dados)
    classificacao, emoji_classe = classificar_desempenho(media)
    sugestoes = gerar_sugestoes(aluno_dados, media)
    
    print(f"\n{'='*50}")
    print(f"üìã RELAT√ìRIO DE AVALIA√á√ÉO - {nome.upper()}")
    print(f"{'='*50}")
    
    print(f"\nüìä NOTAS E M√âDIAS:")
    if aluno_dados.get('provas'):
        print(f"   Provas: {aluno_dados['provas']} ‚Üí M√©dia: {sum(aluno_dados['provas'])/len(aluno_dados['provas']):.1f}")
    if aluno_dados.get('trabalhos'):
        print(f"   Trabalhos: {aluno_dados['trabalhos']} ‚Üí M√©dia: {sum(aluno_dados['trabalhos'])/len(aluno_dados['trabalhos']):.1f}")
    print(f"   Participa√ß√£o: {aluno_dados.get('participacao', 0):.1f}")
    print(f"   Frequ√™ncia: {aluno_dados.get('frequencia', 0):.1f}%")
    
    print(f"\nüéØ RESULTADO FINAL:")
    print(f"   M√©dia Final: {media}")
    print(f"   Status: {status} {emoji_status}")
    print(f"   Classifica√ß√£o: {classificacao} {emoji_classe}")
    
    print(f"\nüí° SUGEST√ïES DE MELHORIA:")
    for i, sugestao in enumerate(sugestoes, 1):
        print(f"   {i}. {sugestao}")
    
    print(f"\n{'='*50}")
    
    return {
        'nome': nome,
        'media': media,
        'status': status,
        'classificacao': classificacao
    }</code></pre>
    </div>
</div>

<div class="content-section">
    <h2>üìà Estat√≠sticas da Turma</h2>
    
    <div class="code-example">
        <h3>An√°lise Estat√≠stica:</h3>
        <pre><code>def gerar_estatisticas_turma(turma_dados):
    """
    Gera estat√≠sticas gerais da turma
    """
    medias = []
    aprovados = 0
    reprovados = 0
    recuperacao = 0
    
    classificacoes = {'EXCELENTE': 0, 'BOM': 0, 'REGULAR': 0, 'INSUFICIENTE': 0}
    
    for nome, dados in turma_dados.items():
        media = calcular_media_aluno(dados)
        medias.append(media)
        
        status, _ = avaliar_aprovacao(dados)
        if status in ['APROVADO', 'APROVADO_CONDICIONAL']:
            aprovados += 1
        elif status == 'RECUPERACAO':
            recuperacao += 1
        else:
            reprovados += 1
        
        classificacao, _ = classificar_desempenho(media)
        classificacoes[classificacao] += 1
    
    # Calcular estat√≠sticas
    media_turma = sum(medias) / len(medias) if medias else 0
    maior_media = max(medias) if medias else 0
    menor_media = min(medias) if medias else 0
    
    print(f"\n{'='*50}")
    print(f"üìä ESTAT√çSTICAS DA TURMA")
    print(f"{'='*50}")
    
    print(f"\nüìà M√âDIAS:")
    print(f"   M√©dia da Turma: {media_turma:.2f}")
    print(f"   Maior M√©dia: {maior_media:.2f}")
    print(f"   Menor M√©dia: {menor_media:.2f}")
    
    print(f"\n‚úÖ STATUS DE APROVA√á√ÉO:")
    total_alunos = len(turma_dados)
    print(f"   Aprovados: {aprovados}/{total_alunos} ({(aprovados/total_alunos)*100:.1f}%)")
    print(f"   Recupera√ß√£o: {recuperacao}/{total_alunos} ({(recuperacao/total_alunos)*100:.1f}%)")
    print(f"   Reprovados: {reprovados}/{total_alunos} ({(reprovados/total_alunos)*100:.1f}%)")
    
    print(f"\nüèÜ CLASSIFICA√á√ïES:")
    for classe, quantidade in classificacoes.items():
        percentual = (quantidade/total_alunos)*100 if total_alunos > 0 else 0
        print(f"   {classe}: {quantidade}/{total_alunos} ({percentual:.1f}%)")
    
    print(f"\n{'='*50}")</code></pre>
    </div>
</div>

<div class="content-section">
    <h2>üîç Principais Conceitos Aplicados</h2>
    <ul>
        <li><strong>If/Elif/Else:</strong> L√≥gica de classifica√ß√£o e aprova√ß√£o</li>
        <li><strong>Operadores L√≥gicos:</strong> Condi√ß√µes complexas (and, or, not)</li>
        <li><strong>Operadores de Compara√ß√£o:</strong> Verifica√ß√£o de limites e crit√©rios</li>
        <li><strong>Condi√ß√µes Aninhadas:</strong> M√∫ltiplos n√≠veis de verifica√ß√£o</li>
        <li><strong>Operador Tern√°rio:</strong> Atribui√ß√µes condicionais simples</li>
    </ul>
</div>
{% endblock %}

{% block exercise_description %}
<div class="exercise-header">
    <h2>üèãÔ∏è‚Äç‚ôÇÔ∏è Projeto Final</h2>
    <p>Complete o Sistema de Avalia√ß√£o Escolar</p>
</div>

<div class="exercise-description">
    <h3>üìã Sua Miss√£o:</h3>
    <ol>
        <li>Implemente a fun√ß√£o <code>calcular_media_aluno()</code></li>
        <li>Complete a fun√ß√£o <code>avaliar_aprovacao()</code></li>
        <li>Adicione mais crit√©rios de classifica√ß√£o</li>
        <li>Crie um sistema de bonifica√ß√£o por participa√ß√£o</li>
        <li>Teste com os dados fornecidos</li>
        <li>Analise os resultados e sugest√µes</li>
    </ol>
</div>

<div class="exercise-data">
    <h3>üë• Dados da Turma para Teste:</h3>
    <pre>Ana: Provas [8.5, 7.0, 9.0], Trabalhos [9.0, 8.5], Participa√ß√£o 9.0, Frequ√™ncia 95%
Jo√£o: Provas [6.0, 5.5, 7.0], Trabalhos [7.0, 6.5], Participa√ß√£o 7.0, Frequ√™ncia 80%
Maria: Provas [9.5, 9.0, 8.5], Trabalhos [10.0, 9.5], Participa√ß√£o 10.0, Frequ√™ncia 98%
Pedro: Provas [4.0, 5.0, 3.5], Trabalhos [5.0, 4.5], Participa√ß√£o 5.0, Frequ√™ncia 65%</pre>
</div>

<div class="exercise-requirements">
    <h3>üéØ Funcionalidades Obrigat√≥rias:</h3>
    <ul>
        <li>C√°lculo correto de m√©dia ponderada</li>
        <li>Avalia√ß√£o de aprova√ß√£o com m√∫ltiplas condi√ß√µes</li>
        <li>Sistema de bonifica√ß√£o (extra: +0.5 se participa√ß√£o > 9.0)</li>
        <li>Relat√≥rio individual completo</li>
        <li>Estat√≠sticas da turma</li>
    </ul>
</div>

<div class="exercise-hints">
    <h3>üí° Dicas Importantes:</h3>
    <ul>
        <li>Use operadores l√≥gicos para combinar condi√ß√µes</li>
        <li>Aplique if/elif/else para m√∫ltiplas verifica√ß√µes</li>
        <li>Considere casos especiais (listas vazias, valores None)</li>
        <li>Use formata√ß√£o de strings para relat√≥rios leg√≠veis</li>
    </ul>
</div>

<div class="expected-output">
    <h3>üì§ Resultado Esperado:</h3>
    <pre>üìã RELAT√ìRIO DE AVALIA√á√ÉO - ANA
M√©dia Final: 8.43
Status: APROVADO ‚úÖ
Classifica√ß√£o: BOM üü°

üìã RELAT√ìRIO DE AVALIA√á√ÉO - PEDRO  
M√©dia Final: 4.23
Status: REPROVADO ‚ùå
Classifica√ß√£o: INSUFICIENTE üî¥

üìä ESTAT√çSTICAS DA TURMA
M√©dia da Turma: 6.89
Aprovados: 2/4 (50.0%)</pre>
</div>
{% endblock %}

{% block initial_code %}
# Projeto Final: Sistema de Avalia√ß√£o Escolar
# Complete as fun√ß√µes abaixo

# Crit√©rios e configura√ß√µes
CRITERIOS = {
    'provas': {'peso': 0.4, 'min_aprovacao': 6.0},
    'trabalhos': {'peso': 0.3, 'min_aprovacao': 7.0},
    'participacao': {'peso': 0.2, 'min_aprovacao': 8.0},
    'frequencia': {'peso': 0.1, 'min_frequencia': 75.0}
}

def calcular_media_aluno(notas_aluno):
    """
    Calcula m√©dia ponderada do aluno
    Considere bonifica√ß√£o: +0.5 se participa√ß√£o > 9.0
    """
    # Seu c√≥digo aqui
    pass

def avaliar_aprovacao(aluno_dados):
    """
    Determina status: APROVADO, RECUPERACAO, REPROVADO
    Use m√∫ltiplas condi√ß√µes com operadores l√≥gicos
    """
    # Seu c√≥digo aqui
    pass

def classificar_desempenho(media):
    """
    Retorna classifica√ß√£o: EXCELENTE (9+), BOM (7.5+), REGULAR (6+), INSUFICIENTE
    """
    # Seu c√≥digo aqui
    pass

# Dados da turma para teste
turma = {
    'Ana': {
        'provas': [8.5, 7.0, 9.0],
        'trabalhos': [9.0, 8.5],
        'participacao': 9.0,
        'frequencia': 95
    },
    'Jo√£o': {
        'provas': [6.0, 5.5, 7.0],
        'trabalhos': [7.0, 6.5],
        'participacao': 7.0,
        'frequencia': 80
    },
    'Maria': {
        'provas': [9.5, 9.0, 8.5],
        'trabalhos': [10.0, 9.5],
        'participacao': 10.0,
        'frequencia': 98
    },
    'Pedro': {
        'provas': [4.0, 5.0, 3.5],
        'trabalhos': [5.0, 4.5],
        'participacao': 5.0,
        'frequencia': 65
    }
}

# Teste seu sistema
print("=== SISTEMA DE AVALIA√á√ÉO ESCOLAR ===")

for nome, dados in turma.items():
    print(f"\nüìã Aluno: {nome}")
    # media = calcular_media_aluno(dados)
    # status, emoji = avaliar_aprovacao(dados)
    # classificacao, cor = classificar_desempenho(media)
    # print(f"M√©dia: {media} | Status: {status} {emoji} | Classe: {classificacao} {cor}")
{% endblock %}