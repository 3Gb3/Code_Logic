{% extends "base_aula.html" %}

{% block title %}Aula 6 - Validação de Dados | CodeLogic{% endblock %}

{% block lesson_title %}Aula 6 – Validação de Dados{% endblock %}

{% block lesson_content %}
    <section>
        <h2>🎯 Objetivo</h2>
        <ul>
            <li>Validar entrada de dados do usuário</li>
            <li>Tratar erros de digitação e formato</li>
            <li>Criar sistemas mais robustos e seguros</li>
        </ul>
    </section>

    <section>
        <h2>🛡️ Por que Validar Dados?</h2>
        <p>A validação de dados é essencial para:</p>
        <ul>
            <li>🔒 Garantir segurança do sistema</li>
            <li>🎯 Evitar erros e crashes</li>
            <li>✅ Manter qualidade dos dados</li>
            <li>😊 Melhorar experiência do usuário</li>
        </ul>
    </section>

    <section>
        <h2>📊 Tipos de Validação</h2>
        
        <h3>1. Validação de Tipo</h3>
        <pre><code>try:
    idade = int(input("Digite sua idade: "))
    if idade >= 0 and idade <= 120:
        print(f"Idade válida: {idade}")
    else:
        print("Idade deve estar entre 0 e 120 anos")
except ValueError:
    print("Por favor, digite apenas números")</code></pre>
    
        <h3>2. Validação de Formato</h3>
        <pre><code>email = input("Digite seu email: ")

if "@" in email and "." in email:
    partes = email.split("@")
    if len(partes) == 2 and len(partes[0]) > 0 and len(partes[1]) > 0:
        print("Email válido!")
    else:
        print("Formato de email inválido")
else:
    print("Email deve conter @ e .")</code></pre>
    
        <h3>3. Validação de Intervalo</h3>
        <pre><code>nota = float(input("Digite a nota (0-10): "))

if 0 <= nota <= 10:
    print(f"Nota registrada: {nota}")
else:
    print("Nota deve estar entre 0 e 10")</code></pre>
    </section>

    <section>
        <h2>🔐 Validação de Senha</h2>
        <pre><code>senha = input("Digite sua senha: ")

# Critérios de validação
tem_minuscula = any(c.islower() for c in senha)
tem_maiuscula = any(c.isupper() for c in senha)
tem_numero = any(c.isdigit() for c in senha)
tem_tamanho = len(senha) >= 8

if tem_minuscula and tem_maiuscula and tem_numero and tem_tamanho:
    print("Senha forte! ✅")
else:
    print("Senha deve ter:")
    if not tem_tamanho:
        print("- Pelo menos 8 caracteres")
    if not tem_minuscula:
        print("- Pelo menos uma letra minúscula")
    if not tem_maiuscula:
        print("- Pelo menos uma letra maiúscula")
    if not tem_numero:
        print("- Pelo menos um número")</code></pre>
    </section>

    <section>
        <h2>📞 Validação de CPF Simplificada</h2>
        <pre><code>cpf = input("Digite seu CPF (apenas números): ")

# Remove espaços e caracteres especiais
cpf_limpo = cpf.replace(".", "").replace("-", "").replace(" ", "")

if len(cpf_limpo) == 11 and cpf_limpo.isdigit():
    # Verifica se não são todos iguais (ex: 11111111111)
    if len(set(cpf_limpo)) > 1:
        print("CPF com formato válido!")
    else:
        print("CPF não pode ter todos os dígitos iguais")
else:
    print("CPF deve ter 11 dígitos numéricos")</code></pre>
    </section>

    <section>
        <h2>🎮 Exercício Prático</h2>
        <div class="exercise-box">
            <h3>Sistema de Cadastro Completo</h3>
            <p>Crie um sistema que valide todos os dados de um usuário:</p>
            <ul>
                <li>Nome: deve ter pelo menos 2 caracteres</li>
                <li>Idade: entre 16 e 100 anos</li>
                <li>Email: formato válido com @ e .</li>
                <li>Telefone: 10 ou 11 dígitos</li>
            </ul>
            
            <textarea id="code-input" placeholder="# Sistema de Cadastro com Validação
print('=== CADASTRO DE USUÁRIO ===')

# Validação do Nome
nome = input('Nome completo: ')
if len(nome.strip()) >= 2:
    print('Nome válido ✅')
else:
    print('Nome deve ter pelo menos 2 caracteres ❌')

# Continue validando os outros campos..."></textarea>
            
            <button onclick="runCode()" class="btn-run">▶️ Executar Código</button>
            <div id="output"></div>
        </div>
    </section>

    <section>
        <h2>🔄 Validação com Loop</h2>
        <pre><code>while True:
    try:
        idade = int(input("Digite sua idade: "))
        if 0 <= idade <= 120:
            print(f"Idade {idade} registrada com sucesso!")
            break
        else:
            print("Idade deve estar entre 0 e 120. Tente novamente.")
    except ValueError:
        print("Digite apenas números. Tente novamente.")</code></pre>
    </section>

    <section>
        <h2>💡 Dicas de Boas Práticas</h2>
        <div class="tip-box">
            <ul>
                <li>📝 Sempre informe o formato esperado</li>
                <li>🎯 Seja específico nas mensagens de erro</li>
                <li>🔄 Permita que o usuário tente novamente</li>
                <li>🧹 Limpe dados antes de validar (espaços, caracteres especiais)</li>
                <li>⚡ Valide no momento da entrada, não só no final</li>
            </ul>
        </div>
    </section>
{% endblock %}

{% block extra_js %}
<script>
function runCode() {
    const code = document.getElementById('code-input').value;
    const output = document.getElementById('output');
    
    output.innerHTML = '<div class="output-success">Sistema de cadastro executado! Teste com dados válidos e inválidos.</div>';
}
</script>
{% endblock %}