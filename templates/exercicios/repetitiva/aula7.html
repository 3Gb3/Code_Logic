{% extends "base_aula.html" %}

{% block title %}Aula 7 - Enumerate e Zip | CodeLogic{% endblock %}

{% block lesson_title %}Aula 7 – Enumerate e Zip{% endblock %}

{% block lesson_content %}
    <section>
        <h2>🎯 Objetivo</h2>
        <ul>
            <li>Usar enumerate() para obter índice e valor</li>
            <li>Usar zip() para combinar sequências</li>
            <li>Tornar loops mais elegantes e eficientes</li>
        </ul>
    </section>

    <section>
        <h2>🔢 A Função enumerate()</h2>
        <p>A função <code>enumerate()</code> retorna pares (índice, valor) ao iterar sobre uma sequência.</p>
        
        <h3>Sintaxe:</h3>
        <pre><code>enumerate(sequencia, start=0)</code></pre>
        
        <h3>Exemplo Básico:</h3>
        <pre><code>frutas = ["maçã", "banana", "uva", "pêra"]

# Sem enumerate (forma antiga)
print("Forma tradicional:")
for i in range(len(frutas)):
    print(f"{i}: {frutas[i]}")

# Com enumerate (forma elegante)
print("\nCom enumerate:")
for i, fruta in enumerate(frutas):
    print(f"{i}: {fruta}")</code></pre>
    </section>

    <section>
        <h2>📝 Exemplos Práticos com enumerate()</h2>
        
        <h3>1. Menu Numerado</h3>
        <pre><code>opcoes = ["Novo Jogo", "Carregar", "Configurações", "Sair"]

print("=== MENU PRINCIPAL ===")
for i, opcao in enumerate(opcoes, 1):  # Começa do 1
    print(f"{i}. {opcao}")

# Saída:
# 1. Novo Jogo
# 2. Carregar
# 3. Configurações
# 4. Sair</code></pre>
    
        <h3>2. Encontrando Posições</h3>
        <pre><code>numeros = [10, 25, 30, 25, 40, 25]
procurado = 25

print(f"Posições do número {procurado}:")
for i, numero in enumerate(numeros):
    if numero == procurado:
        print(f"Posição {i}")

# Saída: Posições 1, 3, 5</code></pre>
    
        <h3>3. Processamento de Linhas</h3>
        <pre><code>texto = """Primeira linha
Segunda linha
Terceira linha
Quarta linha"""

linhas = texto.split('\n')

for numero_linha, conteudo in enumerate(linhas, 1):
    print(f"Linha {numero_linha}: {conteudo} ({len(conteudo)} caracteres)")</code></pre>
    </section>

    <section>
        <h2>🔗 A Função zip()</h2>
        <p>A função <code>zip()</code> combina múltiplas sequências, retornando tuplas com elementos correspondentes.</p>
        
        <h3>Exemplo Básico:</h3>
        <pre><code>nomes = ["Ana", "Bruno", "Carlos"]
idades = [25, 30, 35]
cidades = ["SP", "RJ", "MG"]

# Combinando as três listas
for nome, idade, cidade in zip(nomes, idades, cidades):
    print(f"{nome}, {idade} anos, {cidade}")

# Saída:
# Ana, 25 anos, SP
# Bruno, 30 anos, RJ
# Carlos, 35 anos, MG</code></pre>
    </section>

    <section>
        <h2>📊 Exemplos Práticos com zip()</h2>
        
        <h3>1. Calculando Notas</h3>
        <pre><code>alunos = ["Ana", "Bruno", "Carlos", "Diana"]
nota1 = [8.5, 7.0, 9.0, 8.0]
nota2 = [9.0, 8.5, 8.5, 9.5]

print("Relatório de Notas:")
print("-" * 40)

for aluno, n1, n2 in zip(alunos, nota1, nota2):
    media = (n1 + n2) / 2
    status = "Aprovado" if media >= 7 else "Reprovado"
    print(f"{aluno:8} | {n1:4} | {n2:4} | {media:4.1f} | {status}")

print("-" * 40)</code></pre>
    
        <h3>2. Criando Dicionários</h3>
        <pre><code>chaves = ["nome", "idade", "profissao"]
valores = ["João", 30, "Programador"]

# Criando dicionário com zip
pessoa = dict(zip(chaves, valores))
print(pessoa)
# {'nome': 'João', 'idade': 30, 'profissao': 'Programador'}

# Múltiplas pessoas
nomes = ["Ana", "Bruno", "Carlos"]
idades = [25, 30, 35]
profissoes = ["Designer", "Dev", "Analista"]

pessoas = []
for nome, idade, prof in zip(nomes, idades, profissoes):
    pessoa = {
        "nome": nome,
        "idade": idade,
        "profissao": prof
    }
    pessoas.append(pessoa)

for pessoa in pessoas:
    print(pessoa)</code></pre>
    </section>

    <section>
        <h2>🔄 Combinando enumerate() e zip()</h2>
        <pre><code>produtos = ["Notebook", "Mouse", "Teclado"]
precos = [2500.00, 50.00, 150.00]
quantidades = [2, 5, 3]

print("=== RELATÓRIO DE VENDAS ===")
print("Item | Produto    | Preço   | Qtd | Total")
print("-" * 45)

total_geral = 0

for i, (produto, preco, qtd) in enumerate(zip(produtos, precos, quantidades), 1):
    total_item = preco * qtd
    total_geral += total_item
    
    print(f"{i:4} | {produto:10} | {preco:7.2f} | {qtd:3} | {total_item:7.2f}")

print("-" * 45)
print(f"TOTAL GERAL: R$ {total_geral:.2f}")</code></pre>
    </section>

    <section>
        <h2>🎮 Exercício Prático</h2>
        <div class="exercise-box">
            <h3>Sistema de Votação</h3>
            <p>Crie um sistema que:</p>
            <ul>
                <li>Tenha uma lista de candidatos</li>
                <li>Colete votos usando enumerate() para mostrar opções</li>
                <li>Use zip() para combinar candidatos com votos</li>
                <li>Exiba resultado final ordenado</li>
            </ul>
            
            <textarea id="code-input" placeholder="# Sistema de Votação
candidatos = ['Alice Silva', 'Bruno Costa', 'Carlos Lima', 'Diana Santos']
votos = [0] * len(candidatos)  # Lista de zeros

print('🗳️  SISTEMA DE VOTAÇÃO')
print('Candidatos disponíveis:')

# Mostrar candidatos com enumerate
for i, candidato in enumerate(candidatos, 1):
    print(f'{i}. {candidato}')

# Coletar votos
print('\nDigite o número do candidato (0 para encerrar):')

while True:
    try:
        voto = int(input('Seu voto: '))
        
        if voto == 0:
            break
        elif 1 <= voto <= len(candidatos):
            votos[voto - 1] += 1
            print(f'✅ Voto registrado para {candidatos[voto - 1]}')
        else:
            print('❌ Candidato inválido!')
    except ValueError:
        print('❌ Digite apenas números!')

# Exibir resultados usando zip
print('\n📊 RESULTADO DA VOTAÇÃO:')
# Complete o código..."></textarea>
            
            <button onclick="runCode()" class="btn-run">▶️ Executar Código</button>
            <div id="output"></div>
        </div>
    </section>

    <section>
        <h2>⚠️ Cuidados com zip()</h2>
        
        <h3>Sequências de Tamanhos Diferentes:</h3>
        <pre><code>lista1 = [1, 2, 3, 4, 5]
lista2 = ['a', 'b', 'c']  # Menor que lista1

# zip() para no menor
for num, letra in zip(lista1, lista2):
    print(f"{num} - {letra}")

# Saída: apenas 3 pares (1-a, 2-b, 3-c)

# Para ver os elementos restantes
from itertools import zip_longest

print("\nCom zip_longest:")
for num, letra in zip_longest(lista1, lista2, fillvalue='?'):
    print(f"{num} - {letra}")

# Saída: 1-a, 2-b, 3-c, 4-?, 5-?</code></pre>
    </section>

    <section>
        <h2>🔄 Descompactando com zip()</h2>
        <pre><code># Transpor uma matriz usando zip
matriz = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

print("Matriz original:")
for linha in matriz:
    print(linha)

# Transpor usando zip(*matriz)
transposta = list(zip(*matriz))

print("\nMatriz transposta:")
for linha in transposta:
    print(linha)

# Separar colunas
coluna1, coluna2, coluna3 = zip(*matriz)
print(f"\nColuna 1: {coluna1}")
print(f"Coluna 2: {coluna2}")
print(f"Coluna 3: {coluna3}")</code></pre>
    </section>

    <section>
        <h2>📈 Casos de Uso Avançados</h2>
        
        <h3>1. Comparando Listas</h3>
        <pre><code>lista_esperada = [1, 2, 3, 4, 5]
lista_atual = [1, 2, 4, 4, 5]  # Erro na posição 2

print("Comparando listas:")
for i, (esperado, atual) in enumerate(zip(lista_esperada, lista_atual)):
    if esperado != atual:
        print(f"❌ Posição {i}: esperado {esperado}, encontrado {atual}")
    else:
        print(f"✅ Posição {i}: OK ({atual})")</code></pre>
    
        <h3>2. Calculando Distâncias</h3>
        <pre><code>import math

pontos_x = [0, 3, 6]
pontos_y = [0, 4, 8]
origem = (0, 0)

print("Distâncias da origem:")
for i, (x, y) in enumerate(zip(pontos_x, pontos_y), 1):
    distancia = math.sqrt(x**2 + y**2)
    print(f"Ponto {i} ({x},{y}): {distancia:.2f} unidades")</code></pre>
    </section>

    <section>
        <h2>💡 Dicas Importantes</h2>
        <div class="tip-box">
            <ul>
                <li>🔢 enumerate() é perfeito para menus e listas numeradas</li>
                <li>🔗 zip() combina múltiplas sequências elegantemente</li>
                <li>📏 zip() para na sequência mais curta</li>
                <li>⚡ Ambas as funções são memory-efficient (lazy)</li>
                <li>🔄 Use zip(*sequencia) para "descompactar"</li>
                <li>📊 Combinam bem juntas para dados tabulares</li>
            </ul>
        </div>
    </section>
{% endblock %}

{% block extra_js %}
<script>
function runCode() {
    const code = document.getElementById('code-input').value;
    const output = document.getElementById('output');
    
    output.innerHTML = '<div class="output-success">Sistema de votação executado! Teste com diferentes votos e veja os resultados.</div>';
}
</script>
{% endblock %}