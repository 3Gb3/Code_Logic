{% extends "base_aula.html" %}

{% block title %}Aula 9 - Dicion√°rios | CodeLogic{% endblock %}

{% block lesson_title %}Aula 9 ‚Äì Dicion√°rios{% endblock %}

{% block lesson_content %}
    <section>
        <h2>üéØ Objetivo</h2>
        <ul>
            <li>Compreender o conceito de dicion√°rios (dict)</li>
            <li>Trabalhar com pares chave-valor</li>
            <li>Aplicar dicion√°rios em problemas pr√°ticos</li>
        </ul>
    </section>

    <section>
        <h2>üìñ O que s√£o Dicion√°rios?</h2>
        <p>Dicion√°rios s√£o cole√ß√µes que armazenam pares de <strong>chave-valor</strong>. Cada chave √© √∫nica e permite acesso r√°pido ao valor correspondente.</p>
        
        <h3>Caracter√≠sticas dos Dicion√°rios:</h3>
        <ul>
            <li>üîë <strong>Chave-Valor</strong> - cada elemento √© um par</li>
            <li>üö´ <strong>Chaves √∫nicas</strong> - n√£o pode haver chaves duplicadas</li>
            <li>‚úèÔ∏è <strong>Mut√°vel</strong> - pode ser modificado</li>
            <li>‚ö° <strong>Acesso r√°pido</strong> - busca por chave √© muito eficiente</li>
            <li>üìã <strong>Ordenado</strong> - a partir do Python 3.7+</li>
        </ul>
        
        <h3>Cria√ß√£o de Dicion√°rios:</h3>
        <pre><code># Dicion√°rio vazio
dicionario_vazio = {}
print(f"Vazio: {dicionario_vazio}")

# Dicion√°rio com elementos
aluno = {
    "nome": "Ana Silva",
    "idade": 20,
    "curso": "Engenharia",
    "ativo": True
}

print(f"Aluno: {aluno}")

# Usando dict()
pessoa = dict(nome="Carlos", idade=25, cidade="S√£o Paulo")
print(f"Pessoa: {pessoa}")</code></pre>
    </section>

    <section>
        <h2>üéØ Acessando Valores</h2>
        
        <h3>Acesso por Chave:</h3>
        <pre><code>aluno = {
    "nome": "Ana Silva",
    "idade": 20,
    "curso": "Engenharia"
}

# Acesso direto com []
nome = aluno["nome"]
print(f"Nome: {nome}")

# Acesso seguro com get()
idade = aluno.get("idade")
print(f"Idade: {idade}")

# get() com valor padr√£o
email = aluno.get("email", "N√£o informado")
print(f"Email: {email}")  # Retorna valor padr√£o</code></pre>
        
        <h3>Verificar se Chave Existe:</h3>
        <pre><code>produto = {
    "nome": "Notebook",
    "preco": 3500.00,
    "estoque": 10
}

# Verificar com in
if "preco" in produto:
    print(f"Pre√ßo: R$ {produto['preco']:.2f}")

if "desconto" not in produto:
    print("Produto sem desconto")</code></pre>
    </section>

    <section>
        <h2>‚ûï Adicionando e Modificando</h2>
        
        <h3>Adicionar/Modificar Elementos:</h3>
        <pre><code>pessoa = {
    "nome": "Bruno",
    "idade": 25
}

print(f"Antes: {pessoa}")

# Adicionar novo par chave-valor
pessoa["cidade"] = "S√£o Paulo"
print(f"Ap√≥s adicionar cidade: {pessoa}")

# Modificar valor existente
pessoa["idade"] = 26
print(f"Ap√≥s modificar idade: {pessoa}")

# update() - atualizar m√∫ltiplos valores
pessoa.update({"profissao": "Programador", "salario": 5000})
print(f"Ap√≥s update: {pessoa}")</code></pre>
        
        <h3>Remover Elementos:</h3>
        <pre><code>dados = {
    "nome": "Carlos",
    "idade": 30,
    "cidade": "Rio",
    "temp": "valor tempor√°rio"
}

print(f"Inicial: {dados}")

# del - remover chave espec√≠fica
del dados["temp"]
print(f"Ap√≥s del: {dados}")

# pop() - remover e retornar valor
idade = dados.pop("idade")
print(f"Idade removida: {idade}")
print(f"Ap√≥s pop: {dados}")

# popitem() - remover √∫ltimo item
ultimo = dados.popitem()
print(f"√öltimo removido: {ultimo}")
print(f"Ap√≥s popitem: {dados}")

# clear() - limpar tudo
dados.clear()
print(f"Ap√≥s clear: {dados}")</code></pre>
    </section>

    <section>
        <h2>üîÑ Percorrendo Dicion√°rios</h2>
        
        <h3>Percorrer Chaves:</h3>
        <pre><code>notas = {
    "Ana": 8.5,
    "Bruno": 7.0,
    "Carlos": 9.5,
    "Diana": 8.0
}

# Percorrer apenas as chaves
print("Alunos:")
for aluno in notas:
    print(f"  - {aluno}")

# Ou explicitamente com keys()
print("\nAlunos (com keys()):")
for aluno in notas.keys():
    print(f"  - {aluno}")</code></pre>
        
        <h3>Percorrer Valores:</h3>
        <pre><code>print("Notas:")
for nota in notas.values():
    print(f"  - {nota}")</code></pre>
        
        <h3>Percorrer Chaves e Valores:</h3>
        <pre><code>print("Alunos e suas notas:")
for aluno, nota in notas.items():
    print(f"{aluno}: {nota}")</code></pre>
    </section>

    <section>
        <h2>üìä Opera√ß√µes √öteis</h2>
        
        <h3>Contar Ocorr√™ncias:</h3>
        <pre><code>texto = "python √© incr√≠vel e python √© poderoso"
palavras = texto.split()

# Contar quantas vezes cada palavra aparece
contagem = {}
for palavra in palavras:
    if palavra in contagem:
        contagem[palavra] += 1
    else:
        contagem[palavra] = 1

print("Contagem de palavras:")
for palavra, count in contagem.items():
    print(f"{palavra}: {count}")</code></pre>
        
        <h3>Agrupar Dados:</h3>
        <pre><code>alunos = [
    {"nome": "Ana", "curso": "Eng"},
    {"nome": "Bruno", "curso": "Med"},
    {"nome": "Carlos", "curso": "Eng"},
    {"nome": "Diana", "curso": "Med"},
    {"nome": "Eduardo", "curso": "Eng"}
]

# Agrupar alunos por curso
por_curso = {}
for aluno in alunos:
    curso = aluno["curso"]
    if curso not in por_curso:
        por_curso[curso] = []
    por_curso[curso].append(aluno["nome"])

print("Alunos por curso:")
for curso, lista_alunos in por_curso.items():
    print(f"{curso}: {lista_alunos}")</code></pre>
        
        <h3>Inverter Chave-Valor:</h3>
        <pre><code>capitais = {
    "Brasil": "Bras√≠lia",
    "Argentina": "Buenos Aires",
    "Chile": "Santiago"
}

# Inverter para cidade: pa√≠s
invertido = {}
for pais, capital in capitais.items():
    invertido[capital] = pais

print("Invertido:")
for capital, pais in invertido.items():
    print(f"{capital} √© capital de {pais}")</code></pre>
    </section>

    <section>
        <h2>üìö Dicion√°rios Aninhados</h2>
        
        <pre><code># Dicion√°rio contendo dicion√°rios
empresa = {
    "TI": {
        "gerente": "Ana",
        "funcionarios": 15,
        "orcamento": 500000
    },
    "Vendas": {
        "gerente": "Bruno",
        "funcionarios": 20,
        "orcamento": 300000
    },
    "RH": {
        "gerente": "Carlos",
        "funcionarios": 5,
        "orcamento": 150000
    }
}

# Acessar dados aninhados
print(f"Gerente de TI: {empresa['TI']['gerente']}")
print(f"Funcion√°rios de Vendas: {empresa['Vendas']['funcionarios']}")

# Percorrer dicion√°rio aninhado
print("\nTodos os departamentos:")
for depto, dados in empresa.items():
    print(f"\n{depto}:")
    print(f"  Gerente: {dados['gerente']}")
    print(f"  Funcion√°rios: {dados['funcionarios']}")
    print(f"  Or√ßamento: R$ {dados['orcamento']:,}")</code></pre>
    </section>

    <section>
        <h2>üéÆ Exerc√≠cio Pr√°tico</h2>
        <div class="exercise-box">
            <h3>Sistema de Gerenciamento de Estoque</h3>
            <p>Crie um sistema de estoque usando dicion√°rios:</p>
            <ul>
                <li>Armazenar produtos com c√≥digo, nome, pre√ßo e quantidade</li>
                <li>Adicionar, remover e atualizar produtos</li>
                <li>Calcular valor total do estoque</li>
                <li>Gerar relat√≥rios</li>
            </ul>
            
            <textarea id="code-input" placeholder="# Sistema de Gerenciamento de Estoque

estoque = {
    'P001': {'nome': 'Arroz', 'preco': 5.50, 'quantidade': 100},
    'P002': {'nome': 'Feij√£o', 'preco': 7.00, 'quantidade': 80},
    'P003': {'nome': 'A√ß√∫car', 'preco': 3.50, 'quantidade': 120},
    'P004': {'nome': '√ìleo', 'preco': 8.00, 'quantidade': 60}
}

print('üì¶ SISTEMA DE GERENCIAMENTO DE ESTOQUE')
print('=' * 60)

# Listar todos os produtos
print('\nüìã PRODUTOS EM ESTOQUE:')
print(f'{'C√≥digo':8} {'Nome':15} {'Pre√ßo':10} {'Qtd':6} {'Total':10}')
print('-' * 60)

for codigo, produto in estoque.items():
    nome = produto['nome']
    preco = produto['preco']
    qtd = produto['quantidade']
    total = preco * qtd
    
    print(f'{codigo:8} {nome:15} R$ {preco:6.2f} {qtd:6} R$ {total:8.2f}')

# Calcular valor total do estoque
valor_total = 0
quantidade_total = 0

for produto in estoque.values():
    valor_total += produto['preco'] * produto['quantidade']
    quantidade_total += produto['quantidade']

print('-' * 60)
print(f'Total de produtos diferentes: {len(estoque)}')
print(f'Quantidade total de itens: {quantidade_total}')
print(f'Valor total do estoque: R$ {valor_total:.2f}')

# Adicionar novo produto
novo_codigo = 'P005'
novo_produto = {
    'nome': 'Macarr√£o',
    'preco': 4.50,
    'quantidade': 90
}

estoque[novo_codigo] = novo_produto
print(f'\n‚úÖ Produto {novo_codigo} adicionado: {novo_produto['nome']}')

# Atualizar quantidade (venda)
codigo_venda = 'P001'
qtd_vendida = 10

if codigo_venda in estoque:
    estoque[codigo_venda]['quantidade'] -= qtd_vendida
    print(f'üí∞ Venda registrada: {qtd_vendida} unidades de {estoque[codigo_venda]['nome']}')
    print(f'   Estoque restante: {estoque[codigo_venda]['quantidade']} unidades')

# Produtos com estoque baixo (< 70)
print('\n‚ö†Ô∏è  PRODUTOS COM ESTOQUE BAIXO (< 70):')
tem_baixo = False

for codigo, produto in estoque.items():
    if produto['quantidade'] < 70:
        tem_baixo = True
        print(f'  {codigo} - {produto['nome']}: {produto['quantidade']} unidades')

if not tem_baixo:
    print('  Nenhum produto com estoque baixo')

# Produto mais caro e mais barato
produto_mais_caro = ''
preco_mais_caro = 0
produto_mais_barato = ''
preco_mais_barato = 99999

for codigo, produto in estoque.items():
    if produto['preco'] > preco_mais_caro:
        preco_mais_caro = produto['preco']
        produto_mais_caro = produto['nome']
    
    if produto['preco'] < preco_mais_barato:
        preco_mais_barato = produto['preco']
        produto_mais_barato = produto['nome']

print(f'\nüíé Produto mais caro: {produto_mais_caro} (R$ {preco_mais_caro:.2f})')
print(f'üíµ Produto mais barato: {produto_mais_barato} (R$ {preco_mais_barato:.2f})')

# Buscar produto por nome
nome_busca = 'A√ß√∫car'
print(f'\nüîç BUSCAR: {nome_busca}')
encontrado = False

for codigo, produto in estoque.items():
    if produto['nome'] == nome_busca:
        encontrado = True
        print(f'  C√≥digo: {codigo}')
        print(f'  Pre√ßo: R$ {produto['preco']:.2f}')
        print(f'  Quantidade: {produto['quantidade']}')
        valor_estoque = produto['preco'] * produto['quantidade']
        print(f'  Valor em estoque: R$ {valor_estoque:.2f}')
        break

if not encontrado:
    print(f'  Produto n√£o encontrado')"></textarea>
            
            <button onclick="runCode()" class="btn-run">‚ñ∂Ô∏è Executar C√≥digo</button>
            <div id="output"></div>
        </div>
    </section>

    <section>
        <h2>üí° Dicas Importantes</h2>
        <div class="tip-box">
            <ul>
                <li>üîë Chaves devem ser imut√°veis (strings, n√∫meros, tuplas)</li>
                <li>‚ö° Acesso por chave √© muito r√°pido (O(1))</li>
                <li>üõ°Ô∏è Use <code>get()</code> para evitar erros ao acessar chaves inexistentes</li>
                <li>üîÑ Use <code>items()</code> para percorrer chaves e valores juntos</li>
                <li>üìä Dicion√°rios s√£o ideais para contar, agrupar e mapear dados</li>
                <li>üéØ Chaves n√£o podem ser repetidas - valor mais recente sobrescreve</li>
            </ul>
        </div>
    </section>

    <section>
        <h2>üìö Resumo</h2>
        <p>Nesta aula voc√™ aprendeu:</p>
        <ul>
            <li>‚úÖ O que s√£o dicion√°rios e como criar</li>
            <li>‚úÖ Acessar, adicionar e remover elementos</li>
            <li>‚úÖ Percorrer dicion√°rios de diferentes formas</li>
            <li>‚úÖ Aplica√ß√µes pr√°ticas: contar, agrupar, mapear</li>
            <li>‚úÖ Trabalhar com dicion√°rios aninhados</li>
        </ul>
    </section>
{% endblock %}

{% block extra_js %}
<script>
function runCode() {
    const code = document.getElementById('code-input').value;
    const output = document.getElementById('output');
    
    output.innerHTML = '<div class="output-success">Sistema de estoque executado! Veja como dicion√°rios organizam dados de forma eficiente.</div>';
}
</script>
{% endblock %}
