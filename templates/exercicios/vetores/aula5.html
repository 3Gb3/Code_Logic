{% extends "base_aula.html" %}

{% block title %}Aula 5 - Busca e Ordena√ß√£o | CodeLogic{% endblock %}

{% block lesson_title %}Aula 5 ‚Äì Busca e Ordena√ß√£o{% endblock %}

{% block lesson_content %}
    <section>
        <h2>üéØ Objetivo</h2>
        <ul>
            <li>Buscar elementos em listas</li>
            <li>Ordenar listas usando m√©todos Python</li>
            <li>Trabalhar com listas ordenadas</li>
        </ul>
    </section>

    <section>
        <h2>üîç Buscando Elementos</h2>
        
        <h3>Operador in:</h3>
        <pre><code>numeros = [64, 34, 25, 12, 22, 11, 90, 25]
print(f"Lista: {numeros}")

# Verificar se elemento existe
if 25 in numeros:
    print("25 est√° na lista")
else:
    print("25 n√£o est√° na lista")

# Verificar se N√ÉO existe
if 100 not in numeros:
    print("100 n√£o est√° na lista")</code></pre>
        
        <h3>M√©todo index() - Encontrar Posi√ß√£o:</h3>
        <pre><code>frutas = ["ma√ß√£", "banana", "uva", "p√™ra", "banana"]
print(f"Frutas: {frutas}")

# Encontrar primeira ocorr√™ncia
if "banana" in frutas:
    posicao = frutas.index("banana")
    print(f"Primeira banana est√° na posi√ß√£o: {posicao}")  # 1

# Buscar a partir de uma posi√ß√£o
if "banana" in frutas[2:]:
    posicao = frutas.index("banana", 2)  # Buscar ap√≥s √≠ndice 2
    print(f"Segunda banana est√° na posi√ß√£o: {posicao}")  # 4</code></pre>
        
        <h3>Encontrar Todas as Ocorr√™ncias:</h3>
        <pre><code>numeros = [5, 2, 8, 2, 9, 2, 1]
elemento = 2

# Encontrar todos os √≠ndices do elemento
indices = []
for i in range(len(numeros)):
    if numeros[i] == elemento:
        indices.append(i)

print(f"O n√∫mero {elemento} aparece nas posi√ß√µes: {indices}")  # [1, 3, 5]</code></pre>
    </section>

    <section>
        <h2>üìä Ordenando Listas</h2>
        
        <h3>M√©todo sort() - Modifica a Lista Original:</h3>
        <pre><code>numeros = [64, 34, 25, 12, 22, 11, 90]
print(f"Original: {numeros}")

# Ordenar em ordem crescente
numeros.sort()
print(f"Ordenado: {numeros}")  # [11, 12, 22, 25, 34, 64, 90]

# Ordenar em ordem decrescente
numeros.sort(reverse=True)
print(f"Decrescente: {numeros}")  # [90, 64, 34, 25, 22, 12, 11]</code></pre>
        
        <h3>Fun√ß√£o sorted() - Cria Nova Lista:</h3>
        <pre><code>original = [64, 34, 25, 12, 22, 11, 90]
print(f"Original: {original}")

# Criar lista ordenada (crescente)
crescente = sorted(original)
print(f"Crescente: {crescente}")  # [11, 12, 22, 25, 34, 64, 90]

# Criar lista ordenada (decrescente)
decrescente = sorted(original, reverse=True)
print(f"Decrescente: {decrescente}")  # [90, 64, 34, 25, 22, 12, 11]

# Lista original n√£o mudou
print(f"Original mantida: {original}")  # [64, 34, 25, 12, 22, 11, 90]</code></pre>
        
        <h3>Ordenando Strings:</h3>
        <pre><code>nomes = ["Carlos", "Ana", "Bruno", "Diana"]
print(f"Original: {nomes}")

# Ordem alfab√©tica
nomes.sort()
print(f"Alfab√©tica: {nomes}")  # ['Ana', 'Bruno', 'Carlos', 'Diana']

# Ordem alfab√©tica reversa
nomes.sort(reverse=True)
print(f"Reversa: {nomes}")  # ['Diana', 'Carlos', 'Bruno', 'Ana']</code></pre>
    </section>

    <section>
        <h2>üé® Ordena√ß√£o Personalizada</h2>
        
        <h3>Ordenar por Tamanho da String:</h3>
        <pre><code>palavras = ["python", "√©", "incr√≠vel", "sim"]
print(f"Original: {palavras}")

# Ordenar por tamanho (menor para maior)
palavras_ordenadas = sorted(palavras, key=len)
print(f"Por tamanho: {palavras_ordenadas}")  # ['√©', 'sim', 'python', 'incr√≠vel']

# Ordenar por tamanho (maior para menor)
palavras_desc = sorted(palavras, key=len, reverse=True)
print(f"Tamanho decrescente: {palavras_desc}")  # ['incr√≠vel', 'python', 'sim', '√©']</code></pre>
        
        <h3>Ordenar Lista de Listas:</h3>
        <pre><code># Lista de [nome, idade]
pessoas = [
    ["Ana", 25],
    ["Bruno", 30],
    ["Carlos", 20],
    ["Diana", 28]
]

print("Original:")
for pessoa in pessoas:
    print(f"  {pessoa}")

# Ordenar por idade (segundo elemento - √≠ndice 1)
# Criar lista auxiliar: [idade, pessoa]
temp = []
for pessoa in pessoas:
    temp.append([pessoa[1], pessoa])  # [idade, [nome, idade]]

# Ordenar pela idade
temp.sort()

# Reconstruir lista pessoas
pessoas = []
for item in temp:
    pessoas.append(item[1])

print("\nOrdenado por idade:")
for pessoa in pessoas:
    print(f"  {pessoa}")
# Carlos [20], Ana [25], Diana [28], Bruno [30]</code></pre>
        
        <h3>Ordenar por M√∫ltiplos Crit√©rios:</h3>
        <pre><code># Lista de notas: [nome, nota]
alunos = [
    ["Ana", 8.5],
    ["Bruno", 7.0],
    ["Carlos", 8.5],
    ["Diana", 9.0],
    ["Eduardo", 7.0]
]

# Ordenar por nota (decrescente), depois por nome (crescente)
# Criar lista auxiliar: [nota negativa, nome, aluno] para ordena√ß√£o correta
temp = []
for aluno in alunos:
    temp.append([-aluno[1], aluno[0], aluno])  # nota negativa para ordem desc

# Ordenar
temp.sort()

# Reconstruir lista alunos
alunos = []
for item in temp:
    alunos.append(item[2])

print("Alunos ordenados (nota desc, nome asc):")
for aluno in alunos:
    print(f"  {aluno[0]}: {aluno[1]}")</code></pre>
    </section>

    <section>
        <h2>üî¢ Trabalhando com Listas Ordenadas</h2>
        
        <h3>Encontrar M√≠nimo e M√°ximo:</h3>
        <pre><code>numeros = [64, 34, 25, 12, 22, 11, 90]
print(f"Lista: {numeros}")

# Encontrar menor e maior
minimo = min(numeros)
maximo = max(numeros)
print(f"Menor: {minimo}")  # 11
print(f"Maior: {maximo}")  # 90

# Posi√ß√£o do menor e maior
pos_min = numeros.index(minimo)
pos_max = numeros.index(maximo)
print(f"Posi√ß√£o do menor: {pos_min}")
print(f"Posi√ß√£o do maior: {pos_max}")</code></pre>
        
        <h3>N Maiores e N Menores:</h3>
        <pre><code>notas = [7.5, 8.0, 6.2, 9.1, 5.5, 8.8, 7.0, 9.5, 6.8, 8.2]
print(f"Notas: {notas}")

# Ordenar para encontrar top 3
notas_ordenadas = sorted(notas, reverse=True)
top_3 = notas_ordenadas[:3]
print(f"Top 3 maiores notas: {top_3}")  # [9.5, 9.1, 8.8]

# 3 menores notas
bottom_3 = notas_ordenadas[-3:]
bottom_3.reverse()  # Inverter para ordem crescente
print(f"3 menores notas: {bottom_3}")  # [5.5, 6.2, 6.8]</code></pre>
        
        <h3>Mediana e Estat√≠sticas:</h3>
        <pre><code>valores = [15, 8, 23, 4, 16, 42, 12]
print(f"Valores: {valores}")

# Ordenar para calcular mediana
valores_ordenados = sorted(valores)
print(f"Ordenados: {valores_ordenados}")

# Mediana (valor do meio)
n = len(valores_ordenados)
if n % 2 == 1:
    # √çmpar: pegar elemento do meio
    mediana = valores_ordenados[n // 2]
else:
    # Par: m√©dia dos dois elementos do meio
    meio1 = valores_ordenados[n // 2 - 1]
    meio2 = valores_ordenados[n // 2]
    mediana = (meio1 + meio2) / 2

print(f"Mediana: {mediana}")</code></pre>
    </section>

    <section>
        <h2>üéÆ Exerc√≠cio Pr√°tico</h2>
        <div class="exercise-box">
            <h3>Sistema de Ranking de Jogadores</h3>
            <p>Crie um sistema que gerencie um ranking de jogadores:</p>
            <ul>
                <li>Adicionar jogadores com nome e pontua√ß√£o</li>
                <li>Buscar jogador por nome</li>
                <li>Ordenar ranking por pontua√ß√£o</li>
                <li>Mostrar top N jogadores</li>
                <li>Calcular estat√≠sticas (m√©dia, mediana)</li>
            </ul>
            
            <textarea id="code-input" placeholder="# Sistema de Ranking de Jogadores
jogadores = []  # Cada jogador √© [nome, pontuacao]

print('üéÆ SISTEMA DE RANKING')

# Adicionar jogadores
jogadores.append(['Alice', 1250])
jogadores.append(['Bob', 980])
jogadores.append(['Carol', 1450])
jogadores.append(['David', 1100])
jogadores.append(['Eve', 1300])

print(f'\nTotal de jogadores: {len(jogadores)}')

# Buscar jogador por nome
nome_busca = 'Carol'
encontrado = False
for jogador in jogadores:
    if jogador[0] == nome_busca:
        print(f'üîç {nome_busca} encontrado: {jogador[1]} pontos')
        encontrado = True
        break

if not encontrado:
    print(f'üîç {nome_busca} n√£o encontrado')

# Buscar jogadores em faixa de pontua√ß√£o
pontuacao_min = 1000
pontuacao_max = 1300
print(f'\nüìä Jogadores entre {pontuacao_min} e {pontuacao_max} pontos:')
for jogador in jogadores:
    if pontuacao_min <= jogador[1] <= pontuacao_max:
        print(f'  {jogador[0]}: {jogador[1]} pontos')

# Ordenar ranking por pontua√ß√£o (maior para menor)
# Criar lista auxiliar para ordenar: [pontuacao negativa, jogador]
temp = []
for jogador in jogadores:
    temp.append([-jogador[1], jogador])  # pontua√ß√£o negativa para ordem decrescente

temp.sort()

# Reconstruir lista jogadores
jogadores = []
for item in temp:
    jogadores.append(item[1])

print('\nüèÜ RANKING (por pontua√ß√£o):')
for i in range(len(jogadores)):
    print(f'{i + 1}¬∫ lugar: {jogadores[i][0]} - {jogadores[i][1]} pontos')

# Top 3 jogadores
n = 3
print(f'\n‚≠ê TOP {n} JOGADORES:')
for i in range(min(n, len(jogadores))):
    print(f'{i + 1}. {jogadores[i][0]}: {jogadores[i][1]} pontos')

# Calcular m√©dia de pontua√ß√£o
if jogadores:
    soma = 0
    for jogador in jogadores:
        soma += jogador[1]
    media = soma / len(jogadores)
    print(f'\nüìà Pontua√ß√£o m√©dia: {media:.1f}')
    
    # Jogadores acima da m√©dia
    print('Jogadores acima da m√©dia:')
    for jogador in jogadores:
        if jogador[1] > media:
            print(f'  {jogador[0]}: {jogador[1]} pontos')

# Calcular mediana
pontuacoes = []
for jogador in jogadores:
    pontuacoes.append(jogador[1])

pontuacoes_ordenadas = sorted(pontuacoes)
n = len(pontuacoes_ordenadas)

if n % 2 == 1:
    mediana = pontuacoes_ordenadas[n // 2]
else:
    meio1 = pontuacoes_ordenadas[n // 2 - 1]
    meio2 = pontuacoes_ordenadas[n // 2]
    mediana = (meio1 + meio2) / 2

print(f'üìä Mediana de pontua√ß√£o: {mediana}')

# Estat√≠sticas completas
menor = min(pontuacoes)
maior = max(pontuacoes)
amplitude = maior - menor

print(f'\nüìâ ESTAT√çSTICAS COMPLETAS:')
print(f'Menor pontua√ß√£o: {menor}')
print(f'Maior pontua√ß√£o: {maior}')
print(f'Amplitude: {amplitude}')
print(f'M√©dia: {media:.1f}')
print(f'Mediana: {mediana}')"></textarea>
            
            <button onclick="runCode()" class="btn-run">‚ñ∂Ô∏è Executar C√≥digo</button>
            <div id="output"></div>
        </div>
    </section>

    <section>
        <h2>üí° Dicas Importantes</h2>
        <div class="tip-box">
            <ul>
                <li>üîç Use <code>in</code> para verificar se elemento existe antes de buscar</li>
                <li>üìä <code>sort()</code> modifica a lista original, <code>sorted()</code> cria uma nova</li>
                <li>‚¨ÜÔ∏è Use <code>reverse=True</code> para ordem decrescente</li>
                <li>üéØ Use <code>key=len</code> para ordenar por tamanho</li>
                <li>üìà <code>min()</code> e <code>max()</code> s√£o mais r√°pidos que ordenar para achar extremos</li>
                <li>üî¢ Para mediana, sempre ordene a lista primeiro</li>
            </ul>
        </div>
    </section>

    <section>
        <h2>üìö Resumo</h2>
        <p>Nesta aula voc√™ aprendeu:</p>
        <ul>
            <li>‚úÖ Buscar elementos com <code>in</code> e <code>index()</code></li>
            <li>‚úÖ Ordenar listas com <code>sort()</code> e <code>sorted()</code></li>
            <li>‚úÖ Ordena√ß√£o personalizada com <code>key</code></li>
            <li>‚úÖ Trabalhar com listas ordenadas para estat√≠sticas</li>
            <li>‚úÖ Encontrar m√≠nimo, m√°ximo e mediana</li>
        </ul>
    </section>
{% endblock %}

{% block extra_js %}
<script>
function runCode() {
    const code = document.getElementById('code-input').value;
    const output = document.getElementById('output');
    
    output.innerHTML = '<div class="output-success">Sistema de ranking executado! Veja como buscar e ordenar listas com dados reais.</div>';
}
</script>
{% endblock %}
