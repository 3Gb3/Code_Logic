{% extends "base_aula.html" %}

{% block title %}Aula 10 - Projeto Final Vetores | CodeLogic{% endblock %}

{% block lesson_title %}Aula 10 â€“ Projeto Final: Sistema de AnÃ¡lise de Vendas{% endblock %}

{% block lesson_content %}
    <section>
        <h2>ğŸ¯ Objetivo do Projeto</h2>
        <p>Integrar todos os conceitos aprendidos sobre listas, tuplas, sets e dicionÃ¡rios em um projeto completo!</p>
        <ul>
            <li>âœ… Trabalhar com estruturas de dados combinadas</li>
            <li>âœ… Processar e analisar dados reais</li>
            <li>âœ… Gerar relatÃ³rios completos</li>
            <li>âœ… Aplicar tudo que aprendeu no mÃ³dulo</li>
        </ul>
    </section>

    <section>
        <h2>ğŸ“Š O Projeto: Sistema de AnÃ¡lise de Vendas</h2>
        <p>VocÃª vai criar um sistema que analisa vendas de uma empresa, gerando estatÃ­sticas e relatÃ³rios.</p>
        
        <div class="highlight-box">
            <h3>Funcionalidades do Sistema:</h3>
            <ul>
                <li>ğŸ“¥ Armazenar dados de vendas</li>
                <li>ğŸ“Š Calcular estatÃ­sticas (mÃ©dia, mÃ¡xima, mÃ­nima)</li>
                <li>ğŸ† Identificar melhores vendedores e produtos</li>
                <li>ğŸ“ˆ Gerar grÃ¡fico simples de vendas</li>
                <li>ğŸ“‹ Criar relatÃ³rios formatados</li>
            </ul>
        </div>
    </section>

    <section>
        <h2>ğŸ’¡ Estrutura de Dados</h2>
        <p>Vamos usar diferentes estruturas para armazenar os dados:</p>
        
        <pre><code># Lista de vendas (cada venda Ã© um dicionÃ¡rio)
vendas = [
    {'vendedor': 'Ana Silva', 'produto': 'Notebook', 'valor': 3500.00, 'mes': 'Janeiro'},
    {'vendedor': 'Bruno Costa', 'produto': 'Mouse', 'valor': 45.00, 'mes': 'Janeiro'},
    {'vendedor': 'Ana Silva', 'produto': 'Teclado', 'valor': 120.00, 'mes': 'Fevereiro'},
    # ... mais vendas
]

# DicionÃ¡rio para acumular totais
totais_vendedor = {}

# Set para produtos Ãºnicos
produtos_vendidos = set()

# Tupla para categorias
categorias = ('Hardware', 'Software', 'AcessÃ³rios')</code></pre>
    </section>

    <section>
        <h2>ğŸ® Projeto Completo</h2>
        <div class="exercise-box">
            <h3>Sistema de AnÃ¡lise de Vendas</h3>
            <p>Execute o cÃ³digo completo e observe como todas as estruturas trabalham juntas!</p>
            
            <textarea id="code-input"># ğŸª SISTEMA DE ANÃLISE DE VENDAS
# Projeto Final - MÃ³dulo Vetores

print('=' * 80)
print('ğŸª SISTEMA DE ANÃLISE DE VENDAS'.center(80))
print('=' * 80)

# ğŸ“Š DADOS DE VENDAS
vendas = [
    {'vendedor': 'Ana Silva', 'produto': 'Notebook', 'valor': 3500.00, 'mes': 'Janeiro', 'categoria': 'Hardware'},
    {'vendedor': 'Bruno Costa', 'produto': 'Mouse', 'valor': 45.00, 'mes': 'Janeiro', 'categoria': 'AcessÃ³rios'},
    {'vendedor': 'Carlos Lima', 'produto': 'Windows 11', 'valor': 899.00, 'mes': 'Janeiro', 'categoria': 'Software'},
    {'vendedor': 'Ana Silva', 'produto': 'Teclado', 'valor': 120.00, 'mes': 'Fevereiro', 'categoria': 'AcessÃ³rios'},
    {'vendedor': 'Diana Rocha', 'produto': 'Monitor', 'valor': 1200.00, 'mes': 'Fevereiro', 'categoria': 'Hardware'},
    {'vendedor': 'Bruno Costa', 'produto': 'Office 365', 'valor': 299.00, 'mes': 'Fevereiro', 'categoria': 'Software'},
    {'vendedor': 'Carlos Lima', 'produto': 'SSD 1TB', 'valor': 450.00, 'mes': 'MarÃ§o', 'categoria': 'Hardware'},
    {'vendedor': 'Ana Silva', 'produto': 'Webcam', 'valor': 250.00, 'mes': 'MarÃ§o', 'categoria': 'AcessÃ³rios'},
    {'vendedor': 'Diana Rocha', 'produto': 'Notebook', 'valor': 4200.00, 'mes': 'MarÃ§o', 'categoria': 'Hardware'},
    {'vendedor': 'Bruno Costa', 'produto': 'Mouse Pad', 'valor': 25.00, 'mes': 'Abril', 'categoria': 'AcessÃ³rios'},
    {'vendedor': 'Carlos Lima', 'produto': 'Monitor', 'valor': 1350.00, 'mes': 'Abril', 'categoria': 'Hardware'},
    {'vendedor': 'Ana Silva', 'produto': 'AntivÃ­rus', 'valor': 180.00, 'mes': 'Abril', 'categoria': 'Software'}
]

print(f'\nğŸ“… Total de vendas registradas: {len(vendas)}')

# =============================================================================
# PARTE 1: ANÃLISE GERAL
# =============================================================================
print('\n' + '=' * 80)
print('ğŸ“Š ANÃLISE GERAL'.center(80))
print('=' * 80)

# Calcular valor total
total_vendas = 0
for venda in vendas:
    total_vendas += venda['valor']

print(f'\nğŸ’° Faturamento Total: R$ {total_vendas:,.2f}')

# Calcular mÃ©dia, maior e menor venda
soma = 0
maior_venda = 0
menor_venda = 999999
produto_maior = ''
produto_menor = ''

for venda in vendas:
    valor = venda['valor']
    soma += valor
    
    if valor > maior_venda:
        maior_venda = valor
        produto_maior = venda['produto']
    
    if valor < menor_venda:
        menor_venda = valor
        produto_menor = venda['produto']

media = soma / len(vendas)

print(f'ğŸ“Š Valor MÃ©dio: R$ {media:,.2f}')
print(f'ğŸ† Maior Venda: R$ {maior_venda:,.2f} ({produto_maior})')
print(f'ğŸ“‰ Menor Venda: R$ {menor_venda:,.2f} ({produto_menor})')

# =============================================================================
# PARTE 2: ANÃLISE POR VENDEDOR
# =============================================================================
print('\n' + '=' * 80)
print('ğŸ‘¤ DESEMPENHO DOS VENDEDORES'.center(80))
print('=' * 80)

# Acumular vendas por vendedor
vendas_por_vendedor = {}
quantidade_por_vendedor = {}

for venda in vendas:
    vendedor = venda['vendedor']
    valor = venda['valor']
    
    # Acumular valor
    if vendedor in vendas_por_vendedor:
        vendas_por_vendedor[vendedor] += valor
    else:
        vendas_por_vendedor[vendedor] = valor
    
    # Contar quantidade
    if vendedor in quantidade_por_vendedor:
        quantidade_por_vendedor[vendedor] += 1
    else:
        quantidade_por_vendedor[vendedor] = 1

# Exibir ranking
print(f'\n{'Vendedor':<20} {'Qtd Vendas':>12} {'Total':>15} {'MÃ©dia':>15}')
print('-' * 80)

for vendedor in sorted(vendas_por_vendedor.keys()):
    total = vendas_por_vendedor[vendedor]
    qtd = quantidade_por_vendedor[vendedor]
    media_vendedor = total / qtd
    
    print(f'{vendedor:<20} {qtd:>12} R$ {total:>12,.2f} R$ {media_vendedor:>12,.2f}')

# Encontrar melhor vendedor
melhor_vendedor = ''
melhor_valor = 0

for vendedor, valor in vendas_por_vendedor.items():
    if valor > melhor_valor:
        melhor_valor = valor
        melhor_vendedor = vendedor

print(f'\nğŸ† Melhor Vendedor: {melhor_vendedor} (R$ {melhor_valor:,.2f})')

# =============================================================================
# PARTE 3: ANÃLISE POR PRODUTO
# =============================================================================
print('\n' + '=' * 80)
print('ğŸ“¦ ANÃLISE DE PRODUTOS'.center(80))
print('=' * 80)

# Produtos Ãºnicos vendidos (usando set)
produtos_unicos = set()
for venda in vendas:
    produtos_unicos.add(venda['produto'])

print(f'\nğŸ“Š Total de produtos diferentes: {len(produtos_unicos)}')
print(f'ğŸ“‹ Produtos: {sorted(produtos_unicos)}')

# Contar quantas vezes cada produto foi vendido
vendas_produto = {}
for venda in vendas:
    produto = venda['produto']
    if produto in vendas_produto:
        vendas_produto[produto] += venda['valor']
    else:
        vendas_produto[produto] = venda['valor']

# Top 3 produtos
print('\nğŸ† TOP 3 PRODUTOS:')
produtos_ordenados = []

for produto, valor in vendas_produto.items():
    produtos_ordenados.append((valor, produto))

# Ordenar (maior primeiro)
for i in range(len(produtos_ordenados)):
    for j in range(i + 1, len(produtos_ordenados)):
        if produtos_ordenados[i][0] < produtos_ordenados[j][0]:
            produtos_ordenados[i], produtos_ordenados[j] = produtos_ordenados[j], produtos_ordenados[i]

# Exibir top 3
for posicao in range(min(3, len(produtos_ordenados))):
    valor, produto = produtos_ordenados[posicao]
    print(f'{posicao + 1}Âº lugar - {produto}: R$ {valor:,.2f}')

# =============================================================================
# PARTE 4: ANÃLISE POR CATEGORIA
# =============================================================================
print('\n' + '=' * 80)
print('ğŸ“ ANÃLISE POR CATEGORIA'.center(80))
print('=' * 80)

# Agrupar por categoria
vendas_categoria = {}

for venda in vendas:
    categoria = venda['categoria']
    valor = venda['valor']
    
    if categoria in vendas_categoria:
        vendas_categoria[categoria] += valor
    else:
        vendas_categoria[categoria] = valor

# Exibir vendas por categoria
print(f'\n{'Categoria':<15} {'Total':>15} {'%':>10}')
print('-' * 80)

for categoria in sorted(vendas_categoria.keys()):
    valor = vendas_categoria[categoria]
    percentual = (valor / total_vendas) * 100
    print(f'{categoria:<15} R$ {valor:>12,.2f} {percentual:>9.1f}%')

# =============================================================================
# PARTE 5: ANÃLISE MENSAL
# =============================================================================
print('\n' + '=' * 80)
print('ğŸ“… EVOLUÃ‡ÃƒO MENSAL'.center(80))
print('=' * 80)

# Vendas por mÃªs
vendas_mes = {}

for venda in vendas:
    mes = venda['mes']
    valor = venda['valor']
    
    if mes in vendas_mes:
        vendas_mes[mes] += valor
    else:
        vendas_mes[mes] = valor

# Ordem dos meses
ordem_meses = ['Janeiro', 'Fevereiro', 'MarÃ§o', 'Abril', 'Maio', 'Junho', 
               'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro']

print(f'\n{'MÃªs':<12} {'Total':>15} {'Vendas':>10}')
print('-' * 80)

# Contar vendas por mÃªs
quantidade_mes = {}
for venda in vendas:
    mes = venda['mes']
    if mes in quantidade_mes:
        quantidade_mes[mes] += 1
    else:
        quantidade_mes[mes] = 1

# Exibir ordenado
for mes in ordem_meses:
    if mes in vendas_mes:
        valor = vendas_mes[mes]
        qtd = quantidade_mes[mes]
        print(f'{mes:<12} R$ {valor:>12,.2f} {qtd:>10}')

# =============================================================================
# PARTE 6: GRÃFICO DE BARRAS SIMPLES
# =============================================================================
print('\n' + '=' * 80)
print('ğŸ“Š GRÃFICO DE VENDAS POR CATEGORIA'.center(80))
print('=' * 80)

# Encontrar valor mÃ¡ximo para escalar
max_valor = 0
for valor in vendas_categoria.values():
    if valor > max_valor:
        max_valor = valor

# Gerar grÃ¡fico
print()
for categoria in sorted(vendas_categoria.keys()):
    valor = vendas_categoria[categoria]
    barra_tamanho = int((valor / max_valor) * 40)  # Escalar para 40 caracteres
    barra = 'â–ˆ' * barra_tamanho
    print(f'{categoria:<15} {barra} R$ {valor:,.2f}')

# =============================================================================
# PARTE 7: BUSCAR VENDAS ESPECÃFICAS
# =============================================================================
print('\n' + '=' * 80)
print('ğŸ” BUSCAR VENDAS'.center(80))
print('=' * 80)

# Buscar vendas acima de R$ 1000
print('\nğŸ’ Vendas acima de R$ 1.000,00:')
vendas_altas = []

for venda in vendas:
    if venda['valor'] > 1000:
        vendas_altas.append(venda)

print(f'{'Vendedor':<20} {'Produto':<15} {'Valor':>12} {'MÃªs':<12}')
print('-' * 80)

for venda in vendas_altas:
    print(f"{venda['vendedor']:<20} {venda['produto']:<15} R$ {venda['valor']:>9,.2f} {venda['mes']:<12}")

# =============================================================================
# PARTE 8: RESUMO FINAL
# =============================================================================
print('\n' + '=' * 80)
print('ğŸ“‹ RESUMO EXECUTIVO'.center(80))
print('=' * 80)

print(f'''
ğŸ“Š ESTATÃSTICAS GERAIS:
   â€¢ Total de Vendas: {len(vendas)}
   â€¢ Faturamento Total: R$ {total_vendas:,.2f}
   â€¢ Ticket MÃ©dio: R$ {media:,.2f}
   
ğŸ‘¥ VENDEDORES:
   â€¢ Total de Vendedores: {len(vendas_por_vendedor)}
   â€¢ Melhor Vendedor: {melhor_vendedor}
   
ğŸ“¦ PRODUTOS:
   â€¢ Produtos Diferentes: {len(produtos_unicos)}
   â€¢ Produto CampeÃ£o: {produtos_ordenados[0][1]}
   
ğŸ“ CATEGORIAS:
   â€¢ Total de Categorias: {len(vendas_categoria)}
   â€¢ Categoria LÃ­der: {max(vendas_categoria, key=vendas_categoria.get)}
''')

print('=' * 80)
print('âœ… AnÃ¡lise Completa! Sistema utilizou:')
print('   â€¢ Listas para armazenar vendas')
print('   â€¢ DicionÃ¡rios para acumular totais')
print('   â€¢ Sets para produtos Ãºnicos')
print('   â€¢ Tuplas para estruturar dados')
print('   â€¢ Loops para processar informaÃ§Ãµes')
print('=' * 80)</textarea>
            
            <button onclick="runCode()" class="btn-run">â–¶ï¸ Executar Sistema Completo</button>
            <div id="output"></div>
        </div>
    </section>

    <section>
        <h2>ğŸ¯ Conceitos Aplicados</h2>
        <p>Este projeto integra TUDO que vocÃª aprendeu no mÃ³dulo:</p>
        
        <div class="concepts-grid">
            <div class="concept-card">
                <h3>ğŸ“‹ Listas</h3>
                <ul>
                    <li>Armazenar mÃºltiplas vendas</li>
                    <li>Percorrer com for</li>
                    <li>Ordenar dados</li>
                </ul>
            </div>
            
            <div class="concept-card">
                <h3>ğŸ“– DicionÃ¡rios</h3>
                <ul>
                    <li>Estruturar cada venda</li>
                    <li>Acumular totais por chave</li>
                    <li>Mapear vendedor â†’ valor</li>
                </ul>
            </div>
            
            <div class="concept-card">
                <h3>ğŸ² Sets</h3>
                <ul>
                    <li>Produtos Ãºnicos</li>
                    <li>Eliminar duplicatas</li>
                    <li>Contar distintos</li>
                </ul>
            </div>
            
            <div class="concept-card">
                <h3>ğŸ“Œ Tuplas</h3>
                <ul>
                    <li>Ordenar (valor, nome)</li>
                    <li>Estrutura imutÃ¡vel</li>
                    <li>Desempacotamento</li>
                </ul>
            </div>
        </div>
    </section>

    <section>
        <h2>ğŸ’¡ Desafios Extras</h2>
        <div class="challenge-box">
            <p>Tente melhorar o sistema:</p>
            <ul>
                <li>ğŸ¯ Adicionar filtro por perÃ­odo (mÃªs especÃ­fico)</li>
                <li>ğŸ¯ Calcular comissÃ£o dos vendedores (5% do total)</li>
                <li>ğŸ¯ Identificar produtos sem vendas</li>
                <li>ğŸ¯ Criar alerta para vendedores com baixo desempenho</li>
                <li>ğŸ¯ Comparar vendas entre meses (crescimento/queda)</li>
                <li>ğŸ¯ Gerar grÃ¡fico de evoluÃ§Ã£o mensal</li>
            </ul>
        </div>
    </section>

    <section>
        <h2>ğŸ“ O Que VocÃª Domina Agora</h2>
        <p>ParabÃ©ns! Ao completar este mÃ³dulo, vocÃª Ã© capaz de:</p>
        
        <div class="skills-box">
            <h3>âœ… Habilidades Conquistadas:</h3>
            <ul>
                <li>âœ… Trabalhar com listas (criar, modificar, percorrer)</li>
                <li>âœ… Usar tuplas para dados imutÃ¡veis</li>
                <li>âœ… Aplicar sets para valores Ãºnicos</li>
                <li>âœ… Dominar dicionÃ¡rios (chave-valor)</li>
                <li>âœ… Ordenar e buscar dados</li>
                <li>âœ… Acumular totais e calcular estatÃ­sticas</li>
                <li>âœ… Agrupar e filtrar informaÃ§Ãµes</li>
                <li>âœ… Criar sistemas completos de anÃ¡lise</li>
                <li>âœ… Escolher a estrutura certa para cada problema</li>
            </ul>
        </div>
    </section>

    <section>
        <h2>ğŸš€ PrÃ³ximos Passos</h2>
        <p>Agora vocÃª estÃ¡ pronto para o prÃ³ximo mÃ³dulo: <strong>MATRIZES</strong></p>
        <p>LÃ¡ vocÃª aprenderÃ¡ a trabalhar com estruturas bidimensionais e problemas ainda mais complexos!</p>
    </section>
{% endblock %}

{% block extra_js %}
<script>
function runCode() {
    const code = document.getElementById('code-input').value;
    const output = document.getElementById('output');
    
    output.innerHTML = '<div class="output-success">âœ… Sistema executado! VocÃª integrou listas, dicionÃ¡rios, sets e tuplas em um projeto real!</div>';
}
</script>

<style>
.concepts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 20px 0;
}

.concept-card {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #007bff;
}

.concept-card h3 {
    margin-top: 0;
    color: #007bff;
}

.challenge-box {
    background: #fff3cd;
    padding: 20px;
    border-radius: 8px;
    border-left: 4px solid #ffc107;
    margin: 15px 0;
}

.skills-box {
    background: #d4edda;
    padding: 20px;
    border-radius: 8px;
    border-left: 4px solid #28a745;
    margin: 15px 0;
}

.highlight-box {
    background: #e7f3ff;
    padding: 15px;
    border-radius: 8px;
    margin: 15px 0;
}
</style>
{% endblock %}
