{% extends "base_aula.html" %}

{% block title %}Aula 4 - Opera√ß√µes com Listas | CodeLogic{% endblock %}

{% block lesson_title %}Aula 4 ‚Äì Opera√ß√µes com Listas{% endblock %}

{% block lesson_content %}
    <section>
        <h2>üéØ Objetivo</h2>
        <ul>
            <li>Realizar opera√ß√µes matem√°ticas entre listas</li>
            <li>Concatenar e repetir listas</li>
            <li>Comparar listas de diferentes formas</li>
        </ul>
    </section>

    <section>
        <h2>‚ûï Concatena√ß√£o de Listas</h2>
        <p>A concatena√ß√£o une duas ou mais listas criando uma nova lista.</p>
        
        <h3>Operador + (Concatena√ß√£o):</h3>
        <pre><code>lista1 = [1, 2, 3]
lista2 = [4, 5, 6]
lista3 = [7, 8, 9]

# Concatenar duas listas
resultado = lista1 + lista2
print(f"lista1 + lista2 = {resultado}")  # [1, 2, 3, 4, 5, 6]

# Concatenar m√∫ltiplas listas
todas = lista1 + lista2 + lista3
print(f"Todas juntas: {todas}")  # [1, 2, 3, 4, 5, 6, 7, 8, 9]

# Listas originais permanecem inalteradas
print(f"lista1 original: {lista1}")  # [1, 2, 3]</code></pre>
        
        <h3>Operador += (Concatena√ß√£o no Local):</h3>
        <pre><code>cores = ["azul", "verde"]
novas_cores = ["vermelho", "amarelo"]

print(f"Antes: {cores}")
cores += novas_cores  # Modifica a lista original
print(f"Depois: {cores}")  # ['azul', 'verde', 'vermelho', 'amarelo']

# Equivale a:
# cores.extend(novas_cores)</code></pre>
    </section>

    <section>
        <h2>‚úñÔ∏è Repeti√ß√£o de Listas</h2>
        
        <h3>Operador * (Repeti√ß√£o):</h3>
        <pre><code>numeros = [1, 2, 3]

# Repetir lista
duplicada = numeros * 2
print(f"Duplicada: {duplicada}")  # [1, 2, 3, 1, 2, 3]

triplicada = numeros * 3
print(f"Triplicada: {triplicada}")  # [1, 2, 3, 1, 2, 3, 1, 2, 3]

# Criar lista com elementos repetidos
zeros = [0] * 5
print(f"Zeros: {zeros}")  # [0, 0, 0, 0, 0]

separadores = ["-"] * 10
print(f"Separadores: {separadores}")  # ['-', '-', '-', '-', '-', '-', '-', '-', '-', '-']</code></pre>
        
        <h3>‚ö†Ô∏è Cuidado com Objetos Mut√°veis:</h3>
        <pre><code># CUIDADO: Repetir listas que cont√™m listas
matriz_errada = [[0] * 3] * 3  # PROBLEMA!
print(f"Matriz (problema): {matriz_errada}")

# Modificar um elemento afeta todos
matriz_errada[0][0] = 1
print(f"Ap√≥s modificar: {matriz_errada}")  # Todas as linhas mudam!

# ‚úÖ CORRETO: Criar cada sublista separadamente usando loop
matriz_correta = []
for i in range(3):
    linha = [0] * 3
    matriz_correta.append(linha)
print(f"Matriz correta: {matriz_correta}")

matriz_correta[0][0] = 1
print(f"Ap√≥s modificar corretamente: {matriz_correta}")  # Apenas primeira linha muda</code></pre>
    </section>

    <section>
        <h2>‚öñÔ∏è Compara√ß√£o de Listas</h2>
        
        <h3>Compara√ß√£o de Igualdade:</h3>
        <pre><code>lista_a = [1, 2, 3]
lista_b = [1, 2, 3]
lista_c = [1, 3, 2]
lista_d = [1, 2, 3, 4]

print(f"lista_a == lista_b: {lista_a == lista_b}")  # True
print(f"lista_a == lista_c: {lista_a == lista_c}")  # False (ordem diferente)
print(f"lista_a == lista_d: {lista_a == lista_d}")  # False (tamanhos diferentes)

# Verificar se cont√©m os mesmos elementos (sem considerar ordem)
lista_a_ordenada = sorted(lista_a)
lista_c_ordenada = sorted(lista_c)
mesmo_conteudo = lista_a_ordenada == lista_c_ordenada

print(f"Mesmo conte√∫do (a,c): {mesmo_conteudo}")  # True</code></pre>
        
        <h3>Compara√ß√£o Lexicogr√°fica:</h3>
        <pre><code>numeros1 = [1, 2, 3]
numeros2 = [1, 2, 4]
numeros3 = [1, 3, 2]

print(f"[1,2,3] < [1,2,4]: {numeros1 < numeros2}")  # True
print(f"[1,2,3] < [1,3,2]: {numeros1 < numeros3}")  # True
print(f"[1,3,2] > [1,2,4]: {numeros3 > numeros2}")  # True

# Strings tamb√©m
palavras1 = ["ana", "bruno"]
palavras2 = ["ana", "carlos"]
print(f"['ana','bruno'] < ['ana','carlos']: {palavras1 < palavras2}")  # True</code></pre>
    </section>

    <section>
        <h2>üîç Opera√ß√µes de Pertin√™ncia</h2>
        
        <h3>Operador in e not in:</h3>
        <pre><code>frutas = ["ma√ß√£", "banana", "uva", "p√™ra"]

# Verificar se elemento existe
print(f"'banana' in frutas: {'banana' in frutas}")  # True
print(f"'kiwi' in frutas: {'kiwi' in frutas}")  # False
print(f"'manga' not in frutas: {'manga' not in frutas}")  # True

# Busca case-insensitive (sem diferenciar mai√∫sculas/min√∫sculas)
nomes = ["Ana", "BRUNO", "carlos"]
item_busca = 'ana'
item_lower = item_busca.lower()
encontrado = False
for elemento in nomes:
    if elemento.lower() == item_lower:
        encontrado = True
        break

print(f"'{item_busca}' existe: {encontrado}")  # True</code></pre>
        
        <h3>Verificando Sublistas:</h3>
        <pre><code># Verifica se 'pequena' √© sublista de 'grande'
lista_grande = [1, 2, 3, 4, 5, 6, 7]
sublista = [3, 4, 5]
nao_sublista = [2, 4, 6]

# Verificando se sublista existe
len_p = len(sublista)
len_g = len(lista_grande)
eh_sublista = False

for i in range(len_g - len_p + 1):
    if lista_grande[i:i + len_p] == sublista:
        eh_sublista = True
        break

print(f"{sublista} √© sublista: {eh_sublista}")  # True

# Verificando se nao_sublista existe
len_p2 = len(nao_sublista)
eh_sublista2 = False

for i in range(len_g - len_p2 + 1):
    if lista_grande[i:i + len_p2] == nao_sublista:
        eh_sublista2 = True
        break

print(f"{nao_sublista} √© sublista: {eh_sublista2}")  # False</code></pre>
    </section>

    <section>
        <h2>üßÆ Opera√ß√µes Matem√°ticas</h2>
        
        <h3>Opera√ß√µes Elemento a Elemento:</h3>
        <pre><code># Soma listas elemento por elemento
numeros_a = [1, 2, 3, 4]
numeros_b = [5, 6, 7, 8]

# Verificar se listas t√™m o mesmo tamanho
if len(numeros_a) != len(numeros_b):
    print("Erro: Listas devem ter o mesmo tamanho")
else:
    # Somar elemento por elemento
    soma = []
    for i in range(len(numeros_a)):
        soma.append(numeros_a[i] + numeros_b[i])
    
    print(f"Soma: {soma}")  # [6, 8, 10, 12]</code></pre>
        
        <h3>Opera√ß√µes Escalares:</h3>
        <pre><code>numeros = [1, 2, 3, 4, 5]

# Multiplicar todos os elementos por um escalar (n√∫mero)
escalar_mult = 3
multiplicados = []
for x in numeros:
    multiplicados.append(x * escalar_mult)

print(f"Multiplicados por 3: {multiplicados}")  # [3, 6, 9, 12, 15]

# Somar um escalar a todos os elementos
escalar_soma = 10
somados = []
for x in numeros:
    somados.append(x + escalar_soma)

print(f"Somados com 10: {somados}")  # [11, 12, 13, 14, 15]</code></pre>
    </section>

    <section>
        <h2>üéÆ Exerc√≠cio Pr√°tico</h2>
        <div class="exercise-box">
            <h3>Calculadora de Vetores</h3>
            <p>Crie uma calculadora que realize opera√ß√µes entre vetores (listas):</p>
            <ul>
                <li>Soma e subtra√ß√£o elemento a elemento</li>
                <li>Produto escalar e produto por escalar</li>
                <li>Magnitude (comprimento) do vetor</li>
                <li>Concatena√ß√£o e compara√ß√£o de vetores</li>
            </ul>
            
            <textarea id="code-input" placeholder="# üßÆ CALCULADORA DE VETORES (LISTAS)
# Vetores de teste
vetor_a = [3, 4, 5]
vetor_b = [1, 2, 3]

print('üßÆ CALCULADORA DE VETORES')
print(f'Vetor A: {vetor_a}')
print(f'Vetor B: {vetor_b}')
print()

# ‚ûï SOMA elemento a elemento
if len(vetor_a) != len(vetor_b):
    print('Erro: Vetores devem ter o mesmo tamanho')
else:
    soma = []
    for i in range(len(vetor_a)):
        soma.append(vetor_a[i] + vetor_b[i])
    print(f'‚ûï Soma: {soma}')

# ‚ûñ SUBTRA√á√ÉO elemento a elemento
if len(vetor_a) != len(vetor_b):
    print('Erro: Vetores devem ter o mesmo tamanho')
else:
    subtracao = []
    for i in range(len(vetor_a)):
        subtracao.append(vetor_a[i] - vetor_b[i])
    print(f'‚ûñ Subtra√ß√£o (A-B): {subtracao}')

# ‚úñÔ∏è PRODUTO ESCALAR (soma dos produtos)
if len(vetor_a) != len(vetor_b):
    print('Erro: Vetores devem ter o mesmo tamanho')
else:
    produto_escalar = 0
    for i in range(len(vetor_a)):
        produto_escalar += vetor_a[i] * vetor_b[i]
    print(f'‚úñÔ∏è Produto escalar: {produto_escalar}')

# üìä MULTIPLICA√á√ÉO por escalar
escalar = 2
vetor_multiplicado = []
for x in vetor_a:
    vetor_multiplicado.append(x * escalar)
print(f'üìä A √ó {escalar}: {vetor_multiplicado}')

# üìè MAGNITUDE (comprimento do vetor)
# Magnitude = raiz quadrada da soma dos quadrados
soma_quadrados = 0
for x in vetor_a:
    soma_quadrados += x ** 2
magnitude = soma_quadrados ** 0.5
print(f'üìè Magnitude de A: {magnitude:.2f}')

# üìê NORMALIZA√á√ÉO (vetor com magnitude = 1)
if magnitude == 0:
    print('N√£o √© poss√≠vel normalizar vetor zero')
else:
    normalizado = []
    for x in vetor_a:
        normalizado.append(x / magnitude)
    
    # Arredondar para exibi√ß√£o
    normalizado_arredondado = []
    for valor in normalizado:
        normalizado_arredondado.append(round(valor, 3))
    
    print(f'üìê A normalizado: {normalizado_arredondado}')
    
    # Verificar magnitude do normalizado
    soma_quad_norm = 0
    for x in normalizado:
        soma_quad_norm += x ** 2
    mag_normalizado = soma_quad_norm ** 0.5
    print(f'üìè Magnitude do normalizado: {mag_normalizado:.6f}')"></textarea>
            
            <button onclick="runCode()" class="btn-run">‚ñ∂Ô∏è Executar C√≥digo</button>
            <div id="output"></div>
        </div>
    </section>

    <section>
        <h2>üîÑ Opera√ß√µes Avan√ßadas</h2>
        
        <h3>1. Interse√ß√£o e Uni√£o:</h3>
        <pre><code># Teste
numeros1 = [1, 2, 3, 4, 5]
numeros2 = [4, 5, 6, 7, 8]

print(f"Lista 1: {numeros1}")
print(f"Lista 2: {numeros2}")

# Interse√ß√£o: elementos comuns (sem duplicatas)
conjunto1 = set(numeros1)
conjunto2 = set(numeros2)
intersecao = list(conjunto1 & conjunto2)
print(f"Interse√ß√£o: {intersecao}")  # [4, 5]

# Uni√£o: todos os elementos √∫nicos
uniao = list(conjunto1 | conjunto2)
print(f"Uni√£o: {uniao}")  # [1, 2, 3, 4, 5, 6, 7, 8]

# Diferen√ßa: elementos em lista1 mas n√£o em lista2
diferenca = list(conjunto1 - conjunto2)
print(f"Diferen√ßa (1-2): {diferenca}")  # [1, 2, 3]</code></pre>
        
        <h3>2. Rota√ß√£o de Lista:</h3>
        <pre><code># Teste
original = [1, 2, 3, 4, 5]
print(f"Original: {original}")

# Rotacionar n posi√ß√µes para a esquerda
n = 2
if original:
    n = n % len(original)  # Evitar rota√ß√µes desnecess√°rias
    rotacao_esquerda = original[n:] + original[:n]
    print(f"Esquerda {n}: {rotacao_esquerda}")  # [3, 4, 5, 1, 2]

# Rotacionar n posi√ß√µes para a direita
# Direita √© o mesmo que esquerda com n negativo
n_direita = 2
if original:
    n_ajustado = -n_direita % len(original)
    rotacao_direita = original[n_ajustado:] + original[:n_ajustado]
    print(f"Direita {n_direita}: {rotacao_direita}")   # [4, 5, 1, 2, 3]</code></pre>
    </section>

    <section>
        <h2>üìà An√°lise de Performance</h2>
        
        <table class="performance-table">
            <tr>
                <th>Opera√ß√£o</th>
                <th>Complexidade</th>
                <th>Observa√ß√£o</th>
            </tr>
            <tr>
                <td>lista1 + lista2</td>
                <td>O(n + m)</td>
                <td>Cria nova lista</td>
            </tr>
            <tr>
                <td>lista1 += lista2</td>
                <td>O(m)</td>
                <td>Modifica lista1</td>
            </tr>
            <tr>
                <td>lista * n</td>
                <td>O(n √ó k)</td>
                <td>k = tamanho da lista</td>
            </tr>
            <tr>
                <td>item in lista</td>
                <td>O(n)</td>
                <td>Busca linear</td>
            </tr>
            <tr>
                <td>lista1 == lista2</td>
                <td>O(n)</td>
                <td>Compara elemento por elemento</td>
            </tr>
        </table>
    </section>

    <section>
        <h2>üí° Dicas Importantes</h2>
        <div class="tip-box">
            <ul>
                <li>‚ûï Use + para criar nova lista; += para modificar existente</li>
                <li>‚úñÔ∏è Cuidado ao repetir listas com objetos mut√°veis</li>
                <li>‚öñÔ∏è Compara√ß√£o de listas considera ordem e elementos</li>
                <li>üîç Operador in faz busca linear - O(n)</li>
                <li>üìä Para opera√ß√µes matem√°ticas frequentes, considere NumPy</li>
                <li>üéØ Use sets para opera√ß√µes de conjuntos quando ordem n√£o importa</li>
            </ul>
        </div>
    </section>
{% endblock %}

{% block extra_js %}
<script>
function runCode() {
    const code = document.getElementById('code-input').value;
    const output = document.getElementById('output');
    
    output.innerHTML = '<div class="output-success">Calculadora de vetores executada! Veja como opera√ß√µes matem√°ticas funcionam com listas.</div>';
}
</script>
{% endblock %}