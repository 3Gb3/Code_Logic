{% extends "base_aula.html" %}

{% block title %}Aula 4 - Opera√ß√µes com Listas | CodeLogic{% endblock %}

{% block lesson_title %}Aula 4 ‚Äì Opera√ß√µes com Listas{% endblock %}

{% block lesson_content %}
    <section>
        <h2>üéØ Objetivo</h2>
        <ul>
            <li>Realizar opera√ß√µes matem√°ticas entre listas</li>
            <li>Concatenar e repetir listas</li>
            <li>Comparar listas de diferentes formas</li>
        </ul>
    </section>

    <section>
        <h2>‚ûï Concatena√ß√£o de Listas</h2>
        <p>A concatena√ß√£o une duas ou mais listas criando uma nova lista.</p>
        
        <h3>Operador + (Concatena√ß√£o):</h3>
        <pre><code>lista1 = [1, 2, 3]
lista2 = [4, 5, 6]
lista3 = [7, 8, 9]

# Concatenar duas listas
resultado = lista1 + lista2
print(f"lista1 + lista2 = {resultado}")  # [1, 2, 3, 4, 5, 6]

# Concatenar m√∫ltiplas listas
todas = lista1 + lista2 + lista3
print(f"Todas juntas: {todas}")  # [1, 2, 3, 4, 5, 6, 7, 8, 9]

# Listas originais permanecem inalteradas
print(f"lista1 original: {lista1}")  # [1, 2, 3]</code></pre>
        
        <h3>Operador += (Concatena√ß√£o no Local):</h3>
        <pre><code>cores = ["azul", "verde"]
novas_cores = ["vermelho", "amarelo"]

print(f"Antes: {cores}")
cores += novas_cores  # Modifica a lista original
print(f"Depois: {cores}")  # ['azul', 'verde', 'vermelho', 'amarelo']

# Equivale a:
# cores.extend(novas_cores)</code></pre>
    </section>

    <section>
        <h2>‚úñÔ∏è Repeti√ß√£o de Listas</h2>
        
        <h3>Operador * (Repeti√ß√£o):</h3>
        <pre><code>numeros = [1, 2, 3]

# Repetir lista
duplicada = numeros * 2
print(f"Duplicada: {duplicada}")  # [1, 2, 3, 1, 2, 3]

triplicada = numeros * 3
print(f"Triplicada: {triplicada}")  # [1, 2, 3, 1, 2, 3, 1, 2, 3]

# Criar lista com elementos repetidos
zeros = [0] * 5
print(f"Zeros: {zeros}")  # [0, 0, 0, 0, 0]

separadores = ["-"] * 10
print(f"Separadores: {separadores}")  # ['-', '-', '-', '-', '-', '-', '-', '-', '-', '-']</code></pre>
        
        <h3>‚ö†Ô∏è Cuidado com Objetos Mut√°veis:</h3>
        <pre><code># CUIDADO: Repetir listas que cont√™m listas
matriz_errada = [[0] * 3] * 3  # PROBLEMA!
print(f"Matriz (problema): {matriz_errada}")

# Modificar um elemento afeta todos
matriz_errada[0][0] = 1
print(f"Ap√≥s modificar: {matriz_errada}")  # Todas as linhas mudam!

# ‚úÖ CORRETO: Criar cada sublista separadamente
matriz_correta = [[0] * 3 for _ in range(3)]
print(f"Matriz correta: {matriz_correta}")

matriz_correta[0][0] = 1
print(f"Ap√≥s modificar corretamente: {matriz_correta}")  # Apenas primeira linha muda</code></pre>
    </section>

    <section>
        <h2>‚öñÔ∏è Compara√ß√£o de Listas</h2>
        
        <h3>Compara√ß√£o de Igualdade:</h3>
        <pre><code>lista_a = [1, 2, 3]
lista_b = [1, 2, 3]
lista_c = [1, 3, 2]
lista_d = [1, 2, 3, 4]

print(f"lista_a == lista_b: {lista_a == lista_b}")  # True
print(f"lista_a == lista_c: {lista_a == lista_c}")  # False (ordem diferente)
print(f"lista_a == lista_d: {lista_a == lista_d}")  # False (tamanhos diferentes)

# Verificar se cont√©m os mesmos elementos (sem considerar ordem)
def mesmo_conteudo(lista1, lista2):
    return sorted(lista1) == sorted(lista2)

print(f"Mesmo conte√∫do (a,c): {mesmo_conteudo(lista_a, lista_c)}")  # True</code></pre>
        
        <h3>Compara√ß√£o Lexicogr√°fica:</h3>
        <pre><code>numeros1 = [1, 2, 3]
numeros2 = [1, 2, 4]
numeros3 = [1, 3, 2]

print(f"[1,2,3] < [1,2,4]: {numeros1 < numeros2}")  # True
print(f"[1,2,3] < [1,3,2]: {numeros1 < numeros3}")  # True
print(f"[1,3,2] > [1,2,4]: {numeros3 > numeros2}")  # True

# Strings tamb√©m
palavras1 = ["ana", "bruno"]
palavras2 = ["ana", "carlos"]
print(f"['ana','bruno'] < ['ana','carlos']: {palavras1 < palavras2}")  # True</code></pre>
    </section>

    <section>
        <h2>üîç Opera√ß√µes de Pertin√™ncia</h2>
        
        <h3>Operador in e not in:</h3>
        <pre><code>frutas = ["ma√ß√£", "banana", "uva", "p√™ra"]

# Verificar se elemento existe
print(f"'banana' in frutas: {'banana' in frutas}")  # True
print(f"'kiwi' in frutas: {'kiwi' in frutas}")  # False
print(f"'manga' not in frutas: {'manga' not in frutas}")  # True

# Fun√ß√£o para busca case-insensitive
def busca_insensitive(lista, item):
    item_lower = item.lower()
    for elemento in lista:
        if elemento.lower() == item_lower:
            return True
    return False

nomes = ["Ana", "BRUNO", "carlos"]
print(f"'ana' existe: {busca_insensitive(nomes, 'ana')}")  # True</code></pre>
        
        <h3>Verificando Sublistas:</h3>
        <pre><code>def eh_sublista(pequena, grande):
    """Verifica se 'pequena' √© sublista de 'grande'"""
    len_p = len(pequena)
    len_g = len(grande)
    
    for i in range(len_g - len_p + 1):
        if grande[i:i + len_p] == pequena:
            return True
    return False

lista_grande = [1, 2, 3, 4, 5, 6, 7]
sublista = [3, 4, 5]
nao_sublista = [2, 4, 6]

print(f"{sublista} √© sublista: {eh_sublista(sublista, lista_grande)}")  # True
print(f"{nao_sublista} √© sublista: {eh_sublista(nao_sublista, lista_grande)}")  # False</code></pre>
    </section>

    <section>
        <h2>üßÆ Opera√ß√µes Matem√°ticas</h2>
        
        <h3>Opera√ß√µes Elemento a Elemento:</h3>
        <pre><code>def somar_listas(lista1, lista2):
    """Soma listas elemento por elemento"""
    if len(lista1) != len(lista2):
        raise ValueError("Listas devem ter o mesmo tamanho")
    
    resultado = []
    for i in range(len(lista1)):
        resultado.append(lista1[i] + lista2[i])
    
    return resultado

# Teste
numeros_a = [1, 2, 3, 4]
numeros_b = [5, 6, 7, 8]

soma = somar_listas(numeros_a, numeros_b)
print(f"Soma: {soma}")  # [6, 8, 10, 12]

# Com list comprehension e zip
soma_zip = [a + b for a, b in zip(numeros_a, numeros_b)]
print(f"Soma (zip): {soma_zip}")  # [6, 8, 10, 12]</code></pre>
        
        <h3>Opera√ß√µes Escalares:</h3>
        <pre><code>def multiplicar_escalar(lista, escalar):
    """Multiplica todos os elementos da lista por um escalar"""
    return [x * escalar for x in lista]

def somar_escalar(lista, escalar):
    """Soma um escalar a todos os elementos da lista"""
    return [x + escalar for x in lista]

numeros = [1, 2, 3, 4, 5]

multiplicados = multiplicar_escalar(numeros, 3)
print(f"Multiplicados por 3: {multiplicados}")  # [3, 6, 9, 12, 15]

somados = somar_escalar(numeros, 10)
print(f"Somados com 10: {somados}")  # [11, 12, 13, 14, 15]</code></pre>
    </section>

    <section>
        <h2>üéÆ Exerc√≠cio Pr√°tico</h2>
        <div class="exercise-box">
            <h3>Calculadora de Vetores</h3>
            <p>Crie uma calculadora que realize opera√ß√µes entre vetores (listas):</p>
            <ul>
                <li>Soma e subtra√ß√£o elemento a elemento</li>
                <li>Produto escalar e produto por escalar</li>
                <li>Magnitude (comprimento) do vetor</li>
                <li>Concatena√ß√£o e compara√ß√£o de vetores</li>
            </ul>
            
            <textarea id="code-input" placeholder="import math

class CalculadoraVetores:
    @staticmethod
    def somar(v1, v2):
        '''Soma dois vetores elemento a elemento'''
        if len(v1) != len(v2):
            return None, 'Vetores devem ter o mesmo tamanho'
        
        resultado = [a + b for a, b in zip(v1, v2)]
        return resultado, 'Soma realizada com sucesso'
    
    @staticmethod
    def subtrair(v1, v2):
        '''Subtrai v2 de v1 elemento a elemento'''
        if len(v1) != len(v2):
            return None, 'Vetores devem ter o mesmo tamanho'
        
        resultado = [a - b for a, b in zip(v1, v2)]
        return resultado, 'Subtra√ß√£o realizada com sucesso'
    
    @staticmethod
    def produto_escalar(v1, v2):
        '''Calcula produto escalar entre dois vetores'''
        if len(v1) != len(v2):
            return None, 'Vetores devem ter o mesmo tamanho'
        
        resultado = sum(a * b for a, b in zip(v1, v2))
        return resultado, 'Produto escalar calculado'
    
    @staticmethod
    def multiplicar_por_escalar(vetor, escalar):
        '''Multiplica vetor por um n√∫mero'''
        resultado = [x * escalar for x in vetor]
        return resultado, f'Vetor multiplicado por {escalar}'
    
    @staticmethod
    def magnitude(vetor):
        '''Calcula a magnitude (comprimento) do vetor'''
        soma_quadrados = sum(x ** 2 for x in vetor)
        resultado = math.sqrt(soma_quadrados)
        return resultado, 'Magnitude calculada'
    
    @staticmethod
    def normalizar(vetor):
        '''Normaliza o vetor (magnitude = 1)'''
        mag, _ = CalculadoraVetores.magnitude(vetor)
        if mag == 0:
            return None, 'N√£o √© poss√≠vel normalizar vetor zero'
        
        resultado = [x / mag for x in vetor]
        return resultado, 'Vetor normalizado'

# Testando a calculadora
calc = CalculadoraVetores()

# Vetores de teste
vetor_a = [3, 4, 5]
vetor_b = [1, 2, 3]

print('üßÆ CALCULADORA DE VETORES')
print(f'Vetor A: {vetor_a}')
print(f'Vetor B: {vetor_b}')
print()

# Testando opera√ß√µes
soma, msg = calc.somar(vetor_a, vetor_b)
print(f'‚ûï Soma: {soma} - {msg}')

subtracao, msg = calc.subtrair(vetor_a, vetor_b)
print(f'‚ûñ Subtra√ß√£o (A-B): {subtracao} - {msg}')

produto_esc, msg = calc.produto_escalar(vetor_a, vetor_b)
print(f'‚úñÔ∏è Produto escalar: {produto_esc} - {msg}')

vetor_mult, msg = calc.multiplicar_por_escalar(vetor_a, 2)
print(f'üìä A √ó 2: {vetor_mult} - {msg}')

mag_a, msg = calc.magnitude(vetor_a)
print(f'üìè Magnitude de A: {mag_a:.2f} - {msg}')

normalizado, msg = calc.normalizar(vetor_a)
print(f'üìê A normalizado: {[round(x, 3) for x in normalizado]} - {msg}')

# Verificando normaliza√ß√£o
mag_norm, _ = calc.magnitude(normalizado)
print(f'üìè Magnitude do normalizado: {mag_norm:.6f}')"></textarea>
            
            <button onclick="runCode()" class="btn-run">‚ñ∂Ô∏è Executar C√≥digo</button>
            <div id="output"></div>
        </div>
    </section>

    <section>
        <h2>üîÑ Opera√ß√µes Avan√ßadas</h2>
        
        <h3>1. Interse√ß√£o e Uni√£o:</h3>
        <pre><code>def intersecao(lista1, lista2):
    """Elementos comuns (sem duplicatas)"""
    return list(set(lista1) & set(lista2))

def uniao(lista1, lista2):
    """Todos os elementos √∫nicos"""
    return list(set(lista1) | set(lista2))

def diferenca(lista1, lista2):
    """Elementos em lista1 mas n√£o em lista2"""
    return list(set(lista1) - set(lista2))

# Teste
numeros1 = [1, 2, 3, 4, 5]
numeros2 = [4, 5, 6, 7, 8]

print(f"Lista 1: {numeros1}")
print(f"Lista 2: {numeros2}")
print(f"Interse√ß√£o: {intersecao(numeros1, numeros2)}")  # [4, 5]
print(f"Uni√£o: {uniao(numeros1, numeros2)}")  # [1, 2, 3, 4, 5, 6, 7, 8]
print(f"Diferen√ßa (1-2): {diferenca(numeros1, numeros2)}")  # [1, 2, 3]</code></pre>
        
        <h3>2. Rota√ß√£o de Lista:</h3>
        <pre><code>def rotacionar_esquerda(lista, n=1):
    """Rotaciona lista n posi√ß√µes para a esquerda"""
    if not lista:
        return lista
    
    n = n % len(lista)  # Evitar rota√ß√µes desnecess√°rias
    return lista[n:] + lista[:n]

def rotacionar_direita(lista, n=1):
    """Rotaciona lista n posi√ß√µes para a direita"""
    return rotacionar_esquerda(lista, -n)

# Teste
original = [1, 2, 3, 4, 5]
print(f"Original: {original}")
print(f"Esquerda 2: {rotacionar_esquerda(original, 2)}")  # [3, 4, 5, 1, 2]
print(f"Direita 2: {rotacionar_direita(original, 2)}")   # [4, 5, 1, 2, 3]</code></pre>
    </section>

    <section>
        <h2>üìà An√°lise de Performance</h2>
        
        <table class="performance-table">
            <tr>
                <th>Opera√ß√£o</th>
                <th>Complexidade</th>
                <th>Observa√ß√£o</th>
            </tr>
            <tr>
                <td>lista1 + lista2</td>
                <td>O(n + m)</td>
                <td>Cria nova lista</td>
            </tr>
            <tr>
                <td>lista1 += lista2</td>
                <td>O(m)</td>
                <td>Modifica lista1</td>
            </tr>
            <tr>
                <td>lista * n</td>
                <td>O(n √ó k)</td>
                <td>k = tamanho da lista</td>
            </tr>
            <tr>
                <td>item in lista</td>
                <td>O(n)</td>
                <td>Busca linear</td>
            </tr>
            <tr>
                <td>lista1 == lista2</td>
                <td>O(n)</td>
                <td>Compara elemento por elemento</td>
            </tr>
        </table>
    </section>

    <section>
        <h2>üí° Dicas Importantes</h2>
        <div class="tip-box">
            <ul>
                <li>‚ûï Use + para criar nova lista; += para modificar existente</li>
                <li>‚úñÔ∏è Cuidado ao repetir listas com objetos mut√°veis</li>
                <li>‚öñÔ∏è Compara√ß√£o de listas considera ordem e elementos</li>
                <li>üîç Operador in faz busca linear - O(n)</li>
                <li>üìä Para opera√ß√µes matem√°ticas frequentes, considere NumPy</li>
                <li>üéØ Use sets para opera√ß√µes de conjuntos quando ordem n√£o importa</li>
            </ul>
        </div>
    </section>
{% endblock %}

{% block extra_js %}
<script>
function runCode() {
    const code = document.getElementById('code-input').value;
    const output = document.getElementById('output');
    
    output.innerHTML = '<div class="output-success">Calculadora de vetores executada! Veja como opera√ß√µes matem√°ticas funcionam com listas.</div>';
}
</script>
{% endblock %}