{% extends "base_aula.html" %}

{% block title %}Aula 6 - Listas Aninhadas | CodeLogic{% endblock %}

{% block lesson_title %}Aula 6 ‚Äì Listas Aninhadas{% endblock %}

{% block lesson_content %}
    <section>
        <h2>üéØ Objetivo</h2>
        <ul>
            <li>Trabalhar com listas dentro de listas</li>
            <li>Acessar e modificar elementos em listas aninhadas</li>
            <li>Percorrer estruturas bidimensionais com loops</li>
        </ul>
    </section>

    <section>
        <h2>üìã Conceito de Listas Aninhadas</h2>
        <p>Listas aninhadas s√£o listas que cont√™m outras listas como elementos.</p>
        
        <h3>Cria√ß√£o de Listas Aninhadas:</h3>
        <pre><code># Cria√ß√£o manual
matriz = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

print("Matriz 3x3:")
for linha in matriz:
    print(linha)</code></pre>
        
        <h3>‚ö†Ô∏è Cuidado ao Criar com Repeti√ß√£o:</h3>
        <pre><code># ‚ùå ERRADO: Todas as linhas referenciam a mesma lista!
matriz_errada = [[0] * 3] * 3
print(f"Matriz errada: {matriz_errada}")

# Modificar um elemento afeta todas as linhas
matriz_errada[0][0] = 1
print(f"Ap√≥s modificar [0][0]: {matriz_errada}")  # Todas mudam!

# ‚úÖ CORRETO: Cada linha √© uma lista separada
matriz_correta = []
for i in range(3):
    linha = [0] * 3
    matriz_correta.append(linha)

print(f"\nMatriz correta: {matriz_correta}")

# Modificar um elemento afeta apenas uma linha
matriz_correta[0][0] = 1
print(f"Ap√≥s modificar [0][0]: {matriz_correta}")  # Apenas primeira linha muda</code></pre>
        
        <h3>Listas com Tamanhos Diferentes:</h3>
        <pre><code># Listas irregulares (cada linha com tamanho diferente)
triangulo = [
    [1],
    [1, 1],
    [1, 2, 1],
    [1, 3, 3, 1]
]

print("Tri√¢ngulo de Pascal:")
for linha in triangulo:
    print(linha)</code></pre>
    </section>

    <section>
        <h2>üéØ Acessando Elementos</h2>
        
        <h3>Acesso por √çndices:</h3>
        <pre><code>matriz = [
    [10, 20, 30],
    [40, 50, 60],
    [70, 80, 90]
]

# Acessar linha inteira
primeira_linha = matriz[0]
print(f"Primeira linha: {primeira_linha}")  # [10, 20, 30]

# Acessar elemento espec√≠fico
elemento = matriz[1][2]  # Linha 1, Coluna 2
print(f"Elemento [1][2]: {elemento}")  # 60

# Acessar com √≠ndices negativos
ultimo_da_ultima = matriz[-1][-1]
print(f"√öltimo elemento: {ultimo_da_ultima}")  # 90</code></pre>
        
        <h3>Verifica√ß√£o de √çndices:</h3>
        <pre><code>matriz = [
    [1, 2, 3],
    [4, 5, 6]
]

# Acessar com seguran√ßa
linha = 1
coluna = 2

if 0 <= linha < len(matriz):
    if 0 <= coluna < len(matriz[linha]):
        elemento = matriz[linha][coluna]
        print(f"Elemento [linha][coluna]: {elemento}")
    else:
        print(f"Coluna {coluna} inv√°lida")
else:
    print(f"Linha {linha} inv√°lida")</code></pre>
    </section>

    <section>
        <h2>‚úèÔ∏è Modificando Elementos</h2>
        
        <h3>Alterar Elemento Individual:</h3>
        <pre><code>notas = [
    ["Ana", 7.5, 8.0],
    ["Bruno", 6.5, 7.0],
    ["Carlos", 8.5, 9.0]
]

print("Antes:")
for aluno in notas:
    print(aluno)

# Alterar nota de Bruno
notas[1][1] = 8.5  # Linha 1 (Bruno), coluna 1 (primeira nota)

print("\nDepois:")
for aluno in notas:
    print(aluno)</code></pre>
        
        <h3>Modificar Linha Inteira:</h3>
        <pre><code>tabuleiro = [
    ['X', 'O', 'X'],
    ['O', 'X', 'O'],
    ['X', 'O', 'X']
]

print("Antes:")
for linha in tabuleiro:
    print(linha)

# Substituir linha inteira
tabuleiro[1] = [' ', ' ', ' ']

print("\nDepois:")
for linha in tabuleiro:
    print(linha)</code></pre>
    </section>

    <section>
        <h2>üîÑ Percorrendo Listas Aninhadas</h2>
        
        <h3>Loop com For Each:</h3>
        <pre><code>matriz = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

print("Percorrendo com for each:")
for linha in matriz:
    for elemento in linha:
        print(elemento, end=' ')
    print()  # Nova linha ap√≥s cada linha da matriz</code></pre>
        
        <h3>Loop com √çndices:</h3>
        <pre><code>matriz = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

print("Percorrendo com √≠ndices:")
for i in range(len(matriz)):
    for j in range(len(matriz[i])):
        valor = matriz[i][j]
        print(f"Posi√ß√£o ({i}, {j}) = {valor}")
</code></pre>
        
        <h3>Exibir em Formato de Tabela:</h3>
        <pre><code>tabela = [
    ["Produto", "Pre√ßo", "Qtd"],
    ["Arroz", 5.50, 10],
    ["Feij√£o", 7.00, 5],
    ["A√ß√∫car", 3.50, 8]
]

print("TABELA DE PRODUTOS:")
print("-" * 40)
for linha in tabela:
    for item in linha:
        item_str = str(item)
        espacos = 15 - len(item_str)
        print(item_str + ' ' * espacos, end='')
    print()
print("-" * 40)</code></pre>
    </section>

    <section>
        <h2>‚ûï Opera√ß√µes com Listas Aninhadas</h2>
        
        <h3>Somar Todos os Elementos:</h3>
        <pre><code>numeros = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

soma_total = 0
for linha in numeros:
    for elemento in linha:
        soma_total += elemento

print(f"Soma total: {soma_total}")  # 45</code></pre>
        
        <h3>Encontrar Maior e Menor:</h3>
        <pre><code>valores = [
    [15, 8, 23],
    [4, 16, 42],
    [30, 11, 7]
]

# Encontrar maior
maior = valores[0][0]
pos_maior = [0, 0]

for i in range(len(valores)):
    for j in range(len(valores[i])):
        if valores[i][j] > maior:
            maior = valores[i][j]
            pos_maior = [i, j]

print(f"Maior valor: {maior} na posi√ß√£o {pos_maior}")

# Encontrar menor
menor = valores[0][0]
pos_menor = [0, 0]

for i in range(len(valores)):
    for j in range(len(valores[i])):
        if valores[i][j] < menor:
            menor = valores[i][j]
            pos_menor = [i, j]

print(f"Menor valor: {menor} na posi√ß√£o {pos_menor}")</code></pre>
        
        <h3>Contar Ocorr√™ncias:</h3>
        <pre><code>grid = [
    ['X', 'O', 'X'],
    ['O', 'X', 'O'],
    ['X', 'X', 'O']
]

# Contar X e O
count_x = 0
count_o = 0

for linha in grid:
    for simbolo in linha:
        if simbolo == 'X':
            count_x += 1
        elif simbolo == 'O':
            count_o += 1

print(f"X: {count_x} ocorr√™ncias")
print(f"O: {count_o} ocorr√™ncias")</code></pre>
    </section>

    <section>
        <h2>üìä Opera√ß√µes em Linhas e Colunas</h2>
        
        <h3>Somar por Linha:</h3>
        <pre><code>vendas = [
    [100, 150, 200],  # Semana 1
    [120, 180, 210],  # Semana 2
    [90, 160, 190]    # Semana 3
]

print("Vendas por semana:")
for i in range(len(vendas)):
    soma_semana = 0
    for valor in vendas[i]:
        soma_semana += valor
    print(f"Semana {i + 1}: {soma_semana}")</code></pre>
        
        <h3>Somar por Coluna:</h3>
        <pre><code>vendas = [
    [100, 150, 200],  # Semana 1
    [120, 180, 210],  # Semana 2
    [90, 160, 190]    # Semana 3
]

# N√∫mero de colunas (produtos)
num_colunas = len(vendas[0])

print("Vendas por produto:")
for coluna in range(num_colunas):
    soma_produto = 0
    for linha in range(len(vendas)):
        soma_produto += vendas[linha][coluna]
    print(f"Produto {coluna + 1}: {soma_produto}")</code></pre>
        
        <h3>Calcular M√©dia por Aluno:</h3>
        <pre><code>notas = [
    ["Ana", 7.5, 8.0, 9.0],
    ["Bruno", 6.5, 7.0, 8.5],
    ["Carlos", 8.5, 9.0, 9.5]
]

print("M√©dias dos alunos:")
for aluno in notas:
    nome = aluno[0]
    soma_notas = 0
    count_notas = 0
    
    # Somar apenas as notas (a partir do √≠ndice 1)
    for i in range(1, len(aluno)):
        soma_notas += aluno[i]
        count_notas += 1
    
    media = soma_notas / count_notas
    print(f"{nome}: {media:.2f}")</code></pre>
    </section>

    <section>
        <h2>üéÆ Exerc√≠cio Pr√°tico</h2>
        <div class="exercise-box">
            <h3>Sistema de Controle de Estoque</h3>
            <p>Crie um sistema que gerencie estoque de produtos em diferentes dep√≥sitos:</p>
            <ul>
                <li>Armazenar produtos e quantidades por dep√≥sito</li>
                <li>Calcular estoque total de cada produto</li>
                <li>Encontrar produto com maior/menor estoque</li>
                <li>Verificar disponibilidade</li>
            </ul>
            
            <textarea id="code-input" placeholder="# Sistema de Controle de Estoque
# Cada linha = dep√≥sito, cada coluna = produto
# [Arroz, Feij√£o, A√ß√∫car]
estoque = [
    [50, 30, 25],  # Dep√≥sito A
    [40, 45, 30],  # Dep√≥sito B
    [35, 20, 40]   # Dep√≥sito C
]

produtos = ['Arroz', 'Feij√£o', 'A√ß√∫car']
depositos = ['A', 'B', 'C']

print('üì¶ SISTEMA DE CONTROLE DE ESTOQUE')
print('=' * 50)

# Exibir estoque atual
print('\nESTOQUE ATUAL:')
print('Dep√≥sito    ', end='')
for produto in produtos:
    espaco = 12 - len(produto)
    print(produto + ' ' * espaco, end='')
print()
print('-' * 50)

for i in range(len(estoque)):
    print(depositos[i] + ' ' * 11, end='')
    for quantidade in estoque[i]:
        qtd_str = str(quantidade)
        espaco = 12 - len(qtd_str)
        print(qtd_str + ' ' * espaco, end='')
    print()

# Calcular estoque total por produto
print('\nüìä ESTOQUE TOTAL POR PRODUTO:')
for j in range(len(produtos)):
    total = 0
    for i in range(len(estoque)):
        total += estoque[i][j]
    print(f'{produtos[j]}: {total} unidades')

# Calcular estoque total por dep√≥sito
print('\nüè¢ ESTOQUE TOTAL POR DEP√ìSITO:')
for i in range(len(estoque)):
    total = 0
    for quantidade in estoque[i]:
        total += quantidade
    print(f'Dep√≥sito {depositos[i]}: {total} unidades')

# Encontrar produto com maior estoque
maior_estoque = 0
produto_maior = ''
for j in range(len(produtos)):
    total = 0
    for i in range(len(estoque)):
        total += estoque[i][j]
    
    if total > maior_estoque:
        maior_estoque = total
        produto_maior = produtos[j]

print(f'\n‚≠ê Produto com maior estoque: {produto_maior} ({maior_estoque} unidades)')

# Encontrar produto com menor estoque
menor_estoque = 9999
produto_menor = ''
for j in range(len(produtos)):
    total = 0
    for i in range(len(estoque)):
        total += estoque[i][j]
    
    if total < menor_estoque:
        menor_estoque = total
        produto_menor = produtos[j]

print(f'‚ö†Ô∏è  Produto com menor estoque: {produto_menor} ({menor_estoque} unidades)')

# Verificar disponibilidade de um produto espec√≠fico
produto_busca = 'Arroz'
print(f'\nüîç DISPONIBILIDADE DE {produto_busca}:')

# Encontrar √≠ndice do produto
indice_produto = -1
for i in range(len(produtos)):
    if produtos[i] == produto_busca:
        indice_produto = i
        break

if indice_produto >= 0:
    for i in range(len(estoque)):
        qtd = estoque[i][indice_produto]
        print(f'  Dep√≥sito {depositos[i]}: {qtd} unidades')
else:
    print(f'  Produto n√£o encontrado')

# Simular venda (remover do estoque)
print(f'\nüí∞ SIMULANDO VENDA:')
deposito_venda = 0  # Dep√≥sito A
produto_venda = 0   # Arroz
quantidade_venda = 10

print(f'Vendendo {quantidade_venda} unidades de {produtos[produto_venda]} do Dep√≥sito {depositos[deposito_venda]}')

if estoque[deposito_venda][produto_venda] >= quantidade_venda:
    estoque[deposito_venda][produto_venda] -= quantidade_venda
    print(f'‚úÖ Venda realizada! Estoque restante: {estoque[deposito_venda][produto_venda]} unidades')
else:
    print(f'‚ùå Estoque insuficiente! Dispon√≠vel: {estoque[deposito_venda][produto_venda]} unidades')

# Exibir estoque ap√≥s venda
print('\nüì¶ ESTOQUE AP√ìS VENDA:')
print('Dep√≥sito    ', end='')
for produto in produtos:
    espaco = 12 - len(produto)
    print(produto + ' ' * espaco, end='')
print()
print('-' * 50)

for i in range(len(estoque)):
    print(depositos[i] + ' ' * 11, end='')
    for quantidade in estoque[i]:
        qtd_str = str(quantidade)
        espaco = 12 - len(qtd_str)
        print(qtd_str + ' ' * espaco, end='')
    print()"></textarea>
            
            <button onclick="runCode()" class="btn-run">‚ñ∂Ô∏è Executar C√≥digo</button>
            <div id="output"></div>
        </div>
    </section>

    <section>
        <h2>üí° Dicas Importantes</h2>
        <div class="tip-box">
            <ul>
                <li>üìã Sempre crie cada linha separadamente para evitar refer√™ncias compartilhadas</li>
                <li>üéØ Use <code>len(matriz[i])</code> para pegar o tamanho de cada linha</li>
                <li>üî¢ Para acessar elemento: <code>matriz[linha][coluna]</code></li>
                <li>üîÑ Use loops aninhados para percorrer toda a estrutura</li>
                <li>‚úîÔ∏è Sempre verifique √≠ndices antes de acessar para evitar erros</li>
                <li>üìä Para somar colunas, percorra todas as linhas com o mesmo √≠ndice de coluna</li>
            </ul>
        </div>
    </section>

    <section>
        <h2>üìö Resumo</h2>
        <p>Nesta aula voc√™ aprendeu:</p>
        <ul>
            <li>‚úÖ Criar listas aninhadas corretamente</li>
            <li>‚úÖ Acessar e modificar elementos com duplo √≠ndice</li>
            <li>‚úÖ Percorrer listas aninhadas com loops aninhados</li>
            <li>‚úÖ Realizar opera√ß√µes em linhas e colunas</li>
            <li>‚úÖ Trabalhar com estruturas bidimensionais (tabelas)</li>
        </ul>
    </section>
{% endblock %}

{% block extra_js %}
<script>
function runCode() {
    const code = document.getElementById('code-input').value;
    const output = document.getElementById('output');
    
    output.innerHTML = '<div class="output-success">Sistema de estoque executado! Veja como trabalhar com listas aninhadas em situa√ß√µes reais.</div>';
}
</script>
{% endblock %}
